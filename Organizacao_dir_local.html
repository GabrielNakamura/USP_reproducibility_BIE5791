<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Gabriel Nakamura" />

<meta name="date" content="2023-08-02" />

<title>Organizando o seu trabalho localmente</title>

<script src="site_libs/header-attrs-2.23/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<script src="site_libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="site_libs/primer-tooltips-1.4.0/build.css" rel="stylesheet" />
<link href="site_libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet" />
<script src="site_libs/klippy-0.0.0.9500/js/klippy.min.js"></script>
<script src="site_libs/font-awesome-5.13.0/js/script.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #204a87; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #204a87; font-weight: bold; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #ce5c00; font-weight: bold; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>


<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>





<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Boas Práticas e Ferramentas da Ciência Aberta na Ecologia - BIE5798-1</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Início</a>
</li>
<li>
  <a href="intro_ciencia_aberta.html">O que é ciência aberta?</a>
</li>
<li>
  <a href="dados_abertos.html">Dados abertos</a>
</li>
<li>
  <a href="Organizacao_dir_local.html">Diretório local e metadados</a>
</li>
<li>
  <a href="basics_git.html">Versionamento</a>
</li>
<li>
  <a href="Creating_repo.html">Dia 3</a>
</li>
<li>
  <a href="colabs_git.html">Dia 4</a>
</li>
<li>
  <a href="basics_git.html">Dia 5</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Organizando o seu trabalho localmente</h1>
<h4 class="author">Gabriel Nakamura</h4>
<h4 class="date">2023-08-02</h4>

</div>


<div id="organização---questão-de-estilo" class="section level1">
<h1>Organização - questão de estilo?</h1>
<p>“Eu me acho na minha bagunça”, quem já ouviu essa frase, ou já
pronunciou? Provavelmente todos nós. Mas o conceito de
<strong>organização</strong> seria mesmo uma questão pessoal? Podemos
discutir isso durante horas a fio se estivermos falando do seu quarto,
da sua estante ou do seu guarda-roupa, mas quando falamos de ciência, ou
seja, uma atividade coletiva, organização <strong>não</strong> é uma
questão pessoal, justamente por ser coletiva. Sempre trabalhamos em
conjunto, e isso pode ser com um grupo composto por muitas pessoas que
trabalham em um determinado projeto, ou pode ser consigo mesmo, o seu eu
do futuro. Desta maneira, é necessário que tudo que foi utilizado para o
desenvolvimento do seu projeto científico seja de fácil compreensão para
seus colaboradores ou para o seu “eu” do futuro.</p>
</div>
<div id="dados-necessários-para-as-práticas" class="section level1">
<h1>Dados necessários para as práticas</h1>
<p>Nesta seção vamos utilizar os dados do pacote
<code>{palmerpenguins}</code>. Que apesar de estar disponível como
pacote, portanto poderia ser lido automáticamente apenas baixando o
pacote, vamos importar os dados a partir do nosso computador. Vamos
fazer isso pois assim podemos demonstrar boas práticas na leitura de
dados, scripts e organização do nosso repositório local de maneira
geral. Os dados do pacote já estão no repositório que baixaram. Mais
adiante vamos utilizá-lo, mas antes vamos ver esquemas gerais de
organização de repositório local</p>
</div>
<div
id="um-esquema-geral-mas-não-absoluto-para-organização-do-diretório-local"
class="section level1">
<h1>Um esquema geral (mas não absoluto) para organização do diretório
local</h1>
<p>Nessa seção irei mostrar uma proposta de esquema geral para
organização de diretórios. Essa estrutura é baseada nesta proposta do <a
href="https://docs.google.com/presentation/d/1Px9Npa_ANqmmfjCXo9A-eBmWzgUmmkCKd7fBIq_gG6k/edit#slide=id.g62fc6bf72f_0_196">Gustavo
Paterno</a>.</p>
<p>Digo que não é absoluto pois modificações nesse esquema podem ser
feita para ajustar ao conjunto de dados de cada pessoa. A Ecologia é um
campo muito amplo de pesquisa, e nem todos os dados se ajustarão
perfeitamente a esta proposta. O mais importante de tudo é que os dados
estejam organizados de uma maneira <strong>intuitiva</strong> e
<strong>consistente</strong> no diretório, como o na figura
seguinte.</p>
<div class="float">
<img src="figs/directory_org.jpg"
alt="Um diretório minimamente organizado" />
<div class="figcaption">Um diretório minimamente organizado</div>
</div>
<p>Mas, qual a lógica por trás da organização desse diretório? Seguimos
a proposta presente na figura seguinte <a
href="https://docs.google.com/presentation/d/1Px9Npa_ANqmmfjCXo9A-eBmWzgUmmkCKd7fBIq_gG6k/edit#slide=id.g62fc6bf72f_0_7">(original
pode ser visto aqui)</a>.</p>
<p>Nesta proposta os arquivos dentro de um projeto são organizados em 4
pastas que contemplam quase todos os documentos que geramos ou que
precisamos quando estamos desenvolvendo um projeto científico.</p>
<div class="float">
<img src="figs/template_general.jpg"
alt="Um modelo geral de organização do diretório local" />
<div class="figcaption">Um modelo geral de organização do diretório
local</div>
</div>
<div id="nomeando-arquivos" class="section level2">
<h2>Nomeando arquivos</h2>
<p>Uma boa regra a ser seguida:</p>
<p><strong>Human + Machine redable</strong></p>
<p>Exemplo:</p>
</div>
<div id="nomeando-scripts" class="section level2">
<h2>Nomeando scripts</h2>
<p>Pessoalmente eu utilizo o seguinte esquema</p>
<p><strong>número_letra-maiúscula_descrição.R</strong></p>
<ul>
<li><p>número: usado para indicar a sequência de execução dos
scripts</p></li>
<li><p>letra maiúscula: Código que indica o que o script faz. Uso a
seguinte notação</p>
<ul>
<li><code>C</code> (Clean) leitura e limpeza/processamento de dados</li>
<li><code>D</code> (Do) análises</li>
<li><code>S</code> (Show) gráficos/figuras</li>
</ul></li>
<li><p>descrição: uma breve descrição sobre o que o script faz
especificamente (e.g. glm)</p></li>
</ul>
</div>
<div id="o-readme" class="section level2">
<h2>O README</h2>
<p>O README é uma das partes mais importantes do seu diretório, ele é
escrito em caixa alta justamente para que a pessoa que esteja acesssando
o seu diretório ouça em voz alta <strong>Me leia por
favor!!</strong>.</p>
<p>Neste arquivo de texto você irá encontrar as principais instruções
sobre a estrutura do diretório, incluindo os nomes das pessoas que
montaram o diretório, além de instruções básicas sobre o que contém em
cada pasta. <a href="https://www.makeareadme.com/">Aqui você pode
encontrar um exemplo de README contendo as informações básicas
necessárias que ele deve conter e porque</a>. <a
href="https://github.com/jehna/readme-best-practices/blob/master/README-default.md">Aqui
um template que pode ser adaptado para os seus propósitos</a>. <a
href="https://blog.rocketseat.com.br/como-fazer-um-bom-readme/">Aqui
algumas dicas interessantes em português</a>.</p>
<p>É importante saber que você não irá encontrar o modelo final para o
README perfeito. Os detalhes de cada README vão variar dependendo do
projeto que está desenvolvendo e a forma como ele deve ser apresentado
ao usuário. Por exemplo, se o projeto se trata de um repositório de
arquivos e scripts de um manuscrito, e não de um README de um projeto de
software, não precisa haver alguns campos de explicação, tais como
exemplo de uso ou antigas versões de lançamento. Aqui coloco um <a
href="https://github.com/hackergrrl/art-of-readme/edit/master/README-pt-BR.md"><em>checklist</em>
adaptado</a> de itens que julgo essenciais para um README informativo.
Pense no seu trabalho, adicione ou edite esse checklist de acordo com
seus propósitos.</p>
<p>Minha proposta de checklist:</p>
<ul class="task-list">
<li><input type="checkbox" />Uma linha explicando o propósito do
repositório</li>
<li><input type="checkbox" />Autores do repositório</li>
<li><input type="checkbox" />Ligações e contextualizações necessárias
(por exemplo, se o repositório está linkado a um artigo)</li>
<li><input type="checkbox" />badges (opcional)</li>
<li><input type="checkbox" />Instruções de instalação (ou download se
for um repo)</li>
<li><input type="checkbox" />Exemplo de utilização claro e
<em>executável</em> (se estivermos falando de uma base de dados ou
pacote)</li>
<li><input type="checkbox" />Estrutura de pastas e scripts (o que cada
pasta contém, o que cada script faz)</li>
<li><input type="checkbox" />Status do projeto (finalizado/em
andamento)</li>
<li><input type="checkbox" />Em caso de problema com algo no
repositório, como reportar (Usar o GitHub issues é uma boa ideia)</li>
<li><input type="checkbox" />Licença</li>
</ul>
</div>
<div id="iniciando-o-readme" class="section level2">
<h2>Iniciando o README</h2>
<p>Duas opções para montar o arquivo README. Primeira, montar você
mesmo. O arquivo pode ser montado em um bloco de notas e deve ser
nomeado como <code>README.md</code>. A extensão <code>.md</code> é
importante aqui, ela significa que é um arquivo do tipo
<strong>Markdown</strong>. Neste momento é importante saber que o
arquivo Markdown é apenas uma linguagem de marcação. Vamos abordar em
detalhes como elaborar documentos em Markdown, como este que lê neste
momento, mais adiante. Por hora é relevante saber que o README deve ser
em markdown pois assim o GitHub idenfica corretamente este documento
como sendo o arquivo a ser exibido na página inicial do repositório
remoto, como ilustrado na figura abaixo.</p>
<div class="figure">
<img src="figs/readme-exemplo.png" alt="Arquivo README correspondente ao repositório deste site" width="850" />
<p class="caption">
Arquivo README correspondente ao repositório deste site
</p>
</div>
<p>Na realidade, o arquivo fonte tem essa aparência</p>
<div class="figure">
<img src="figs/readme-source-ex.png" alt="Arquivo fonte para o README acima mostrado" width="1029" />
<p class="caption">
Arquivo fonte para o README acima mostrado
</p>
</div>
<p>Mostro como podemos montar um README <a href="">nesta seção</a>. Por
enquanto vamos fazer o mais simples.</p>
<p>1- Abra um editor de texto (recomendo o <a
href="https://github.blog/2022-06-08-sunsetting-atom/">Atom</a>, mas o
editor nativo do seu computador funciona bem também).</p>
<p>2- Digite qualquer título na primeira linha que se inicie com
<code># Meu Título</code>.</p>
<p>3- Salve o arquivo com o nome de <code>README.md</code> em algum
local do seu computador. Por enquanto é isso.</p>
</div>
</div>
<div id="ferramentas-para-organização-do-diretório-local"
class="section level1">
<h1>Ferramentas para organização do diretório local</h1>
<div id="iniciando-um-projeto-com-o-rstudio" class="section level2">
<h2>Iniciando um projeto com o RStudio</h2>
<p>Como vimos na aula <a href="">teórica</a>, o RStudio possibilita
enraizar o projeto, desta forma não precisamos utilizar caminhos
absolutos, tornando nossa vida mais fácil e o trabalho mais reprodutível
para quem tentar utilizar nosso repositório. Portanto, o primeiro passo
vai ser iniciar um novo projeto com o RStudio. Para isso faça o
seguinte:</p>
<p>1- Abra o RStudio</p>
<p>2- Em <code>Arquivo</code>, selecione <code>Novo Projeto</code>, como
mostrado abaixo</p>
<div class="figure">
<img src="figs/new-project-fig1.png" alt="Iniciando um projeto" width="80%" />
<p class="caption">
Iniciando um projeto
</p>
</div>
<p>3- Na janela que se abriu selecione <code>Novo Diretório</code> para
iniciar o projeto em um diretório novo</p>
<div class="figure">
<img src="figs/new-project-fig2.png" alt="Iniciando um projeto em um novo diretório" width="80%" />
<p class="caption">
Iniciando um projeto em um novo diretório
</p>
</div>
<p>4- Escolha o tipo de projeto, neste caso <code>novo projeto</code>
(se apenas um projeto, ou um pacote ou um aplicativo shiny)</p>
<p><img src="figs/new-project-fig3.png" width="80%" /></p>
<p>5- Por fim escolha o nome para o diretório e onde ele vai estar no
seu computador</p>
<p><img src="figs/new-project-fig4.png" width="80%" /></p>
<p>Pronto, uma nova janela do RStudio se abrirá, indicando que seu
projeto foi iniciado com sucesso. A partir de agora, para abrir o R e
realizar modificações de scripts basta clicar no arquivo
<code>.RProject</code> que leva o nome que deu ao diretório.</p>
</div>
<div id="pacotes-para-inicialização-automática-alternativa"
class="section level2">
<h2>Pacotes para inicialização automática (alternativa)</h2>
<p>Alguns pacotes auxiliam montar automaticamente a organização do seu
diretório local, por exemplo essa <a
href="https://github.com/cboettig/template">ferramenta elaborado pelo
Carl Boettiger</a> e <a href="https://github.com/Pakillo/template">essa
do Francisco Rodriguez-Sanchez</a>.</p>
<p>Vamos explorar um pouco a funcionalidade do pacote
<code>{template}</code>. Para tanto precisamos primeiro instalar o
pacote que está hospedado no GitHub.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># install.packages(&quot;remotes&quot;)</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;Pakillo/template&quot;</span>)</span></code></pre></div>
<p>Em seguida vamos ler o pacote e iniciar um novo projeto</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;template&quot;</span>)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="fu">new_project</span>(<span class="at">name =</span> <span class="st">&quot;treegrowth&quot;</span>, <span class="at">path =</span> <span class="st">&quot;caminho/para/diretório&quot;</span>)</span></code></pre></div>
<p>O diretório será iniciado no local indicado pelo argumento
<code>path</code> na função <code>new_project</code>.</p>
</div>
<div id="here" class="section level2">
<h2>Here</h2>
<p>O <code>{here}</code> é o melhor pacote para padronizar caminhos.
Sabe aquele erro de leitura dos dados por conta de um <code>/</code> ou
<code>\</code>, ou por ter esquecido ou errado na digitação daquele
caminho gigantesco para o arquivo desejado? Com o <code>{here}</code>
nada disso vai acontecer.</p>
<p>Para demonstrar o uso do pacote here vamos ler os dados
<code>palmer-penguins.txt</code> para o R. Lembrando, abra o R a partir
do .Rproject dentro do diretório que iniciamos nos passos anteriores</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># caso não tenha o here instalado ainda</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="co"># install.packages(&quot;here&quot;)</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="fu">library</span>(here)</span></code></pre></div>
<p>Da forma convencional poderíamos ler esse dado da seguinte forma</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>data_penguins <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;/Users/gabrielnakamura/OneDrive/Disciplina_Praticas_ferramentas_gestao_dados/USP_reproducibility_BIE5791/data/data-penguins.csv&quot;</span>)</span></code></pre></div>
<p>Será que você consegue reproduzir essa simples leitura de dados
usando o mesmo código acima? Tente..</p>
<p>Após a tentativa fica claro que não é possível realizar essa leitura
de dados. Mas vamos lembrar que temos o projeto que enraiza nossa pasta,
então podemos apenas usar o seguinte código</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>data_penguins <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/data-penguins.csv&quot;</span>)</span></code></pre></div>
<p>Funcionou? Ou apenas para alguns?</p>
<p>Imagino que pode ter funcionado para todos que tem o computador onde
a máquina reconhece <code>/</code> como separador de caminhos, porém,
aqueles que precisa de <code>\</code> para informar a separação dos
caminhos não deve ter tido sucesso. Como resolvemos isso?</p>
<p>Aí entra o here. Com o pacote here podemos usar simplesmente o
seguinte código</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>data_penguins <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;data-pengins.csv&quot;</span>))</span></code></pre></div>
<p>Note que ao invés de usarmos o caminho, usamos dentro da função
<code>here</code> o nome das pastas que levam até o arquivo que
desejamos abrir, bem como o nome deste arquivo. Garanto que agora isso
irá funcionar com todos</p>
<!-- aqui a seção de metadata usando o EML -->
<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('left', 'top', 'auto', '1', 'Copy code', 'Copied!');
</script>
</div>
</div>
<div id="metadados" class="section level1">
<h1>Metadados</h1>
<p>Os metadados consistem em explicações sobre a estrutura de dados. Por
exemplo, o significado dos códigos ou abreviações presentes em uma data
tabela, do que se trata a informação presente nas linhas e nas colunas,
o que uma dada função faz. Reportar precisamente o que cada arquivo
contém é de extrema importância para garantir com que outras pessoas, ou
mesmo o você do futuro saiba o que foi/está sendo feito no projeto
científico.</p>
<p>Os metadados não servem apenas para reportar o significado das
variáveis em tabelas, isso por si só já seria um motivo relevante para
termos metadados, mas também para facilitar a integração de bases
diferentes de dados. Imagine só ter que navegar manualmente nos
metadados de estudos de diferentes grupos, com dados coletados com
diferentes métodos, tabelas que adotam diferentes códigos, com distantas
escalas espaciais e temporais. Até seria possível, mas talvez a taxa com
que perdemos espécies e habitats seja mais rápida (e está sendo) que
nossa capacidade de síntese de dados. Portanto, os metadados não servem
apenas para o nosso interesse próprio de organização, mas ao utilizarmos
os metadados estamos contribuindo para um avanço mais rápido do processo
científico.</p>
<p>Dada tais importâncias citadas acima, os metadados ideais devem
seguir um esquema onde podem ser lidos por humanos (human-readable) e
por computadores (machine-readable). Desta forma, nesta seção vamos
praticar a elaboração de metadados que seguem essa característica, e que
o formato foi pensado para satisfazer as especificidades dos dados
ecológicos. Para tanto vamos utilizar o pacote EML.</p>
<div id="leituras-sugeridas" class="section level2">
<h2>Leituras sugeridas</h2>
<p>Para uma itrodução mais completa sobre os metadados sugiro <a
href="https://sbclter.msi.ucsb.edu/external/EML/EML_documents/eml_metadata_guide.html">este</a>
artigo. Para uma introdução da importância dos metadados para contruir
conjuntos de dados integrados sugiro o artigo de <a
href="https://www.annualreviews.org/doi/10.1146/annurev.ecolsys.37.091305.110031">Jones
et al. (2006)</a>. Para um exemplo de base de dados online que se
utiliza das potencialidades dos metadados sugiro visitar o <a
href="https://knb.ecoinformatics.org/about">KNB - Knowledge Network
Biocomplexity</a>.</p>
</div>
<div id="exemplos-de-metadados" class="section level2">
<h2>Exemplos de metadados</h2>
<p>Para um exemplo simples de como um metadado se parece veja <a
href="https://github.com/ropensci/EML/blob/master/inst/examples/example-eml-2.1.1.xml">aqui</a>.
Para um exemplo mais completo sugiro <a
href="https://github.com/ropensci/EML/blob/master/inst/examples/hf205.xml">este
arquivo</a>. Esta <a
href="https://www.neonscience.org/resources/learning-hub/tutorials/dc-metadata-importance-eml-r">introdução</a>
trazida pelo NEON (National Ecological Observatory) é muito interessante
para compreender de maneira geral a importância de metadados para
síntese e como eles podem ser obtidos facilmente com auxílio do pacote
EML. O <a href="https://www.dataone.org/">DataOne</a> é uma plataforma
de dados que também se utiliza dos arquivos XML para reportar as
características gerais dos dados.</p>
</div>
</div>
<div id="metadados-na-prática---utilizando-o-pacote-eml"
class="section level1">
<h1>Metadados na prática - utilizando o pacote <code>{EML}</code></h1>
<p>Nesta seção iremos utilizar o conjunto de dados do artigo
“Organic-matter loading determines regime shifts and alternative states
in an aquatic ecosystem”. Optamos por usar este dado pois ele já
apresenta um arquivo de metadados associado, assim podemos reconstruí-lo
e verificar como fica. Além disso ele é o mesmo dado utilizado no
tutorial original do pacote EML, sendo conveniente para fins didáticos.
Ao final vamos praticar com um outro conjunto de dados.</p>
<p>Para fazer o download dos dados clique no botão abaixo:</p>
<a href="https://github.com/GabrielNakamura/USP_reproducibility_BIE5791">
<button class="btn btn-danger"><i class="fa fa-save"></i> Download csv</button>
</a>
<p>Para instalar o pacote EML faça o seguinte:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;EML&quot;</span>)</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="fu">library</span>(EML)</span></code></pre></div>
<p>Vamos utilizar um conjunto de dados contidos no próprio pacote EML
para facilitar a compreensão dos passos necessários para construir um
EML completo</p>
<div id="construindo-um-eml---harvard-forest-data"
class="section level2">
<h2>Construindo um EML - Harvard Forest Data</h2>
<div id="construindo-os-atributos" class="section level3">
<h3>Construindo os Atributos</h3>
<p>Os atributos são as descrições para as variáveis contidas na nossa
tabela. Aquela aba contendo as informações das variáveis, pois então,
esta seria os atributos da sua tabela de dados. Então, primeiro
precisamos de uma tabela de atributos que define o significado geral de
cada variável em nossa tabela de dados. Esta tabela pode ser gerada aqui
no R direto, como no exemplo abaixo, mas pode ser importada a partir de
uma tabela <code>.csv</code>. A tabela segue o formato a seguir:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>attributes <span class="ot">&lt;-</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>tibble<span class="sc">::</span><span class="fu">tribble</span>(</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="sc">~</span>attributeName, <span class="sc">~</span>attributeDefinition,                                                 <span class="sc">~</span>formatString, <span class="sc">~</span>definition,        <span class="sc">~</span>unit,   <span class="sc">~</span>numberType,</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>  <span class="st">&quot;run.num&quot;</span>,    <span class="st">&quot;which run number (=block). Range: 1 - 6. (integer)&quot;</span>,                 <span class="cn">NA</span>,            <span class="st">&quot;which run number&quot;</span>, <span class="cn">NA</span>,       <span class="cn">NA</span>,</span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>  <span class="st">&quot;year&quot;</span>,       <span class="st">&quot;year, 2012&quot;</span>,                                                         <span class="st">&quot;YYYY&quot;</span>,        <span class="cn">NA</span>,                 <span class="cn">NA</span>,       <span class="cn">NA</span>,</span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a>  <span class="st">&quot;day&quot;</span>,        <span class="st">&quot;Julian day. Range: 170 - 209.&quot;</span>,                                      <span class="st">&quot;DDD&quot;</span>,         <span class="cn">NA</span>,                 <span class="cn">NA</span>,       <span class="cn">NA</span>,</span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a>  <span class="st">&quot;hour.min&quot;</span>,   <span class="st">&quot;hour and minute of observation. Range 1 - 2400 (integer)&quot;</span>,           <span class="st">&quot;hhmm&quot;</span>,        <span class="cn">NA</span>,                 <span class="cn">NA</span>,       <span class="cn">NA</span>,</span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a>  <span class="st">&quot;i.flag&quot;</span>,     <span class="st">&quot;is variable Real, Interpolated or Bad (character/factor)&quot;</span>,           <span class="cn">NA</span>,            <span class="cn">NA</span>,                 <span class="cn">NA</span>,       <span class="cn">NA</span>,</span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a>  <span class="st">&quot;variable&quot;</span>,   <span class="st">&quot;what variable being measured in what treatment (character/factor).&quot;</span>, <span class="cn">NA</span>,            <span class="cn">NA</span>,                 <span class="cn">NA</span>,       <span class="cn">NA</span>,</span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a>  <span class="st">&quot;value.i&quot;</span>,    <span class="st">&quot;value of measured variable for run.num on year/day/hour.min.&quot;</span>,       <span class="cn">NA</span>,            <span class="cn">NA</span>,                 <span class="cn">NA</span>,       <span class="cn">NA</span>,</span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a>  <span class="st">&quot;length&quot;</span>,    <span class="st">&quot;length of the species in meters (dummy example of numeric data)&quot;</span>,     <span class="cn">NA</span>,            <span class="cn">NA</span>,                 <span class="st">&quot;meter&quot;</span>,  <span class="st">&quot;real&quot;</span>)</span></code></pre></div>
<p>Dê uma olhada na tabela de atributos (pode ser feito usano a função
<code>View</code> ou abrindo no Excel). A maioria dos dados seguem este
formato geral.</p>
<p>A seguir precisamos descrever os atributos que apresentam níveis. Por
exemplo o atributo chamado <code>variable</code> apresenta oito níveis.
A estratégia seguida aqui foi criar vetores com os códigos usados para
cada nível dos atributos e uma pequena explicação.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>i.flag <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">R =</span> <span class="st">&quot;real&quot;</span>,</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>            <span class="at">I =</span> <span class="st">&quot;interpolated&quot;</span>,</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>            <span class="at">B =</span> <span class="st">&quot;bad&quot;</span>)</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>variable <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>  <span class="at">control  =</span> <span class="st">&quot;no prey added&quot;</span>,</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>  <span class="at">low      =</span> <span class="st">&quot;0.125 mg prey added ml-1 d-1&quot;</span>,</span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a>  <span class="at">med.low  =</span> <span class="st">&quot;0,25 mg prey added ml-1 d-1&quot;</span>,</span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a>  <span class="at">med.high =</span> <span class="st">&quot;0.5 mg prey added ml-1 d-1&quot;</span>,</span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a>  <span class="at">high     =</span> <span class="st">&quot;1.0 mg prey added ml-1 d-1&quot;</span>,</span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a>  <span class="at">air.temp =</span> <span class="st">&quot;air temperature measured just above all plants (1 thermocouple)&quot;</span>,</span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a>  <span class="at">water.temp =</span> <span class="st">&quot;water temperature measured within each pitcher&quot;</span>,</span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a>  <span class="at">par       =</span> <span class="st">&quot;photosynthetic active radiation (PAR) measured just above all plants (1 sensor)&quot;</span></span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a>)</span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" tabindex="-1"></a>value.i <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb9-16"><a href="#cb9-16" tabindex="-1"></a>  <span class="at">control  =</span> <span class="st">&quot;% dissolved oxygen&quot;</span>,</span>
<span id="cb9-17"><a href="#cb9-17" tabindex="-1"></a>  <span class="at">low      =</span> <span class="st">&quot;% dissolved oxygen&quot;</span>,</span>
<span id="cb9-18"><a href="#cb9-18" tabindex="-1"></a>  <span class="at">med.low  =</span> <span class="st">&quot;% dissolved oxygen&quot;</span>,</span>
<span id="cb9-19"><a href="#cb9-19" tabindex="-1"></a>  <span class="at">med.high =</span> <span class="st">&quot;% dissolved oxygen&quot;</span>,</span>
<span id="cb9-20"><a href="#cb9-20" tabindex="-1"></a>  <span class="at">high     =</span> <span class="st">&quot;% dissolved oxygen&quot;</span>,</span>
<span id="cb9-21"><a href="#cb9-21" tabindex="-1"></a>  <span class="at">air.temp =</span> <span class="st">&quot;degrees C&quot;</span>,</span>
<span id="cb9-22"><a href="#cb9-22" tabindex="-1"></a>  <span class="at">water.temp =</span> <span class="st">&quot;degrees C&quot;</span>,</span>
<span id="cb9-23"><a href="#cb9-23" tabindex="-1"></a>  <span class="at">par      =</span> <span class="st">&quot;micromoles m-1 s-1&quot;</span></span>
<span id="cb9-24"><a href="#cb9-24" tabindex="-1"></a>)</span>
<span id="cb9-25"><a href="#cb9-25" tabindex="-1"></a></span>
<span id="cb9-26"><a href="#cb9-26" tabindex="-1"></a><span class="do">## Write these into the data.frame format</span></span>
<span id="cb9-27"><a href="#cb9-27" tabindex="-1"></a>factors <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb9-28"><a href="#cb9-28" tabindex="-1"></a><span class="fu">data.frame</span>(</span>
<span id="cb9-29"><a href="#cb9-29" tabindex="-1"></a>  <span class="at">attributeName =</span> <span class="st">&quot;i.flag&quot;</span>,</span>
<span id="cb9-30"><a href="#cb9-30" tabindex="-1"></a>  <span class="at">code =</span> <span class="fu">names</span>(i.flag),</span>
<span id="cb9-31"><a href="#cb9-31" tabindex="-1"></a>  <span class="at">definition =</span> <span class="fu">unname</span>(i.flag)</span>
<span id="cb9-32"><a href="#cb9-32" tabindex="-1"></a>),</span>
<span id="cb9-33"><a href="#cb9-33" tabindex="-1"></a><span class="fu">data.frame</span>(</span>
<span id="cb9-34"><a href="#cb9-34" tabindex="-1"></a>  <span class="at">attributeName =</span> <span class="st">&quot;variable&quot;</span>,</span>
<span id="cb9-35"><a href="#cb9-35" tabindex="-1"></a>  <span class="at">code =</span> <span class="fu">names</span>(variable),</span>
<span id="cb9-36"><a href="#cb9-36" tabindex="-1"></a>  <span class="at">definition =</span> <span class="fu">unname</span>(variable)</span>
<span id="cb9-37"><a href="#cb9-37" tabindex="-1"></a>),</span>
<span id="cb9-38"><a href="#cb9-38" tabindex="-1"></a><span class="fu">data.frame</span>(</span>
<span id="cb9-39"><a href="#cb9-39" tabindex="-1"></a>  <span class="at">attributeName =</span> <span class="st">&quot;value.i&quot;</span>,</span>
<span id="cb9-40"><a href="#cb9-40" tabindex="-1"></a>  <span class="at">code =</span> <span class="fu">names</span>(value.i),</span>
<span id="cb9-41"><a href="#cb9-41" tabindex="-1"></a>  <span class="at">definition =</span> <span class="fu">unname</span>(value.i)</span>
<span id="cb9-42"><a href="#cb9-42" tabindex="-1"></a>)</span>
<span id="cb9-43"><a href="#cb9-43" tabindex="-1"></a>)</span></code></pre></div>
<p>Após especificadas as características das variáveis categóricas (as
contínuas já estão especificadas na tabela geral de atributos
<code>attributes</code>), usamos a função <code>set_attributes</code>
para criar a lista de atributos geral dos dados, onde devemos
especificar o tipo de atributo que estamos inserindo (se caracter, se
data, se fator etc..)</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>attributeList <span class="ot">&lt;-</span> <span class="fu">set_attributes</span>(attributes, factors, <span class="at">col_classes =</span> <span class="fu">c</span>(<span class="st">&quot;character&quot;</span>, <span class="st">&quot;Date&quot;</span>, <span class="st">&quot;Date&quot;</span>, <span class="st">&quot;Date&quot;</span>, <span class="st">&quot;factor&quot;</span>, <span class="st">&quot;factor&quot;</span>, <span class="st">&quot;factor&quot;</span>, <span class="st">&quot;numeric&quot;</span>))</span></code></pre></div>
</div>
<div id="construindo-as-características-físicas-do-dado"
class="section level3">
<h3>Construindo as características físicas do dado</h3>
<p>Aqui vamos especificar as características físicas do próprio arquivo
de dados que utilizamos, ou seja, o formato, o tipo de compressão do
arquivo, o separador etc. Resumindo, aqui é especificado a
<strong>característica do arquivo</strong>. Isso é feito facilmente com
a função <code>set_physical</code>. Se estivermos utilizando um arquivo
.csv a função já extrai automaticamente a maior parte das
características relevantes do arquivo de dados.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>physical <span class="ot">&lt;-</span> <span class="fu">set_physical</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;hf205-01-TPexp1-EML-Exemple.csv&quot;</span>))</span></code></pre></div>
</div>
<div id="juntando-atributos-e-características-físicas"
class="section level3">
<h3>Juntando Atributos e Características físicas</h3>
<p>Com o objeto de atributos e o objeto de características físicas temos
o essencial para descrever o nosso conjunto de dados. Agora vamos juntar
ambos com mais algumas informações em uma única lista e denominar isso
como sendo o nosso <code>dataTable</code></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>dataTable <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>                 <span class="at">entityName =</span> <span class="st">&quot;hf205-01-TPexp1.csv&quot;</span>,</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>                 <span class="at">entityDescription =</span> <span class="st">&quot;tipping point experiment 1&quot;</span>,</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>                 <span class="at">physical =</span> physical,</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>                 <span class="at">attributeList =</span> attributeList)</span></code></pre></div>
</div>
<div
id="características-adicionais---extensão-geográfica-métodos-e-outros"
class="section level3">
<h3>Características adicionais - extensão geográfica, métodos e
outros</h3>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>geographicDescription <span class="ot">&lt;-</span> <span class="st">&quot;Harvard Forest Greenhouse, Tom Swamp Tract (Harvard Forest)&quot;</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>coverage <span class="ot">&lt;-</span> </span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>  <span class="fu">set_coverage</span>(<span class="at">begin =</span> <span class="st">&#39;2012-06-01&#39;</span>, <span class="at">end =</span> <span class="st">&#39;2013-12-31&#39;</span>,</span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a>               <span class="at">sci_names =</span> <span class="st">&quot;Sarracenia purpurea&quot;</span>,</span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a>               <span class="at">geographicDescription =</span> geographicDescription,</span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a>               <span class="at">west =</span> <span class="sc">-</span><span class="fl">122.44</span>, <span class="at">east =</span> <span class="sc">-</span><span class="fl">117.15</span>, </span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a>               <span class="at">north =</span> <span class="fl">37.38</span>, <span class="at">south =</span> <span class="fl">30.00</span>,</span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a>               <span class="at">altitudeMin =</span> <span class="dv">160</span>, <span class="at">altitudeMaximum =</span> <span class="dv">330</span>,</span>
<span id="cb13-11"><a href="#cb13-11" tabindex="-1"></a>               <span class="at">altitudeUnits =</span> <span class="st">&quot;meter&quot;</span>)</span></code></pre></div>
<p>Para descrever os métodos em metadados</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>methods_file <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;hf205-methods.docx&quot;</span>)</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>methods <span class="ot">&lt;-</span> <span class="fu">set_methods</span>(methods_file)</span></code></pre></div>
<p>Identificação dos indivíduos endereço e outras informações sobre
contatos</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>R_person <span class="ot">&lt;-</span> <span class="fu">person</span>(<span class="st">&quot;Aaron&quot;</span>, <span class="st">&quot;Ellison&quot;</span>, ,<span class="st">&quot;fakeaddress@email.com&quot;</span>, <span class="st">&quot;cre&quot;</span>, </span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>                  <span class="fu">c</span>(<span class="at">ORCID =</span> <span class="st">&quot;0000-0003-4151-6081&quot;</span>))</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a>aaron <span class="ot">&lt;-</span> <span class="fu">as_emld</span>(R_person)</span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a>others <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">as.person</span>(<span class="st">&quot;Benjamin Baiser&quot;</span>), <span class="fu">as.person</span>(<span class="st">&quot;Jennifer Sirota&quot;</span>))</span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a>associatedParty <span class="ot">&lt;-</span> <span class="fu">as_emld</span>(others)</span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a>associatedParty[[<span class="dv">1</span>]]<span class="sc">$</span>role <span class="ot">&lt;-</span> <span class="st">&quot;Researcher&quot;</span></span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a>associatedParty[[<span class="dv">2</span>]]<span class="sc">$</span>role <span class="ot">&lt;-</span> <span class="st">&quot;Researcher&quot;</span></span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a>HF_address <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a>                  <span class="at">deliveryPoint =</span> <span class="st">&quot;324 North Main Street&quot;</span>,</span>
<span id="cb15-11"><a href="#cb15-11" tabindex="-1"></a>                  <span class="at">city =</span> <span class="st">&quot;Petersham&quot;</span>,</span>
<span id="cb15-12"><a href="#cb15-12" tabindex="-1"></a>                  <span class="at">administrativeArea =</span> <span class="st">&quot;MA&quot;</span>,</span>
<span id="cb15-13"><a href="#cb15-13" tabindex="-1"></a>                  <span class="at">postalCode =</span> <span class="st">&quot;01366&quot;</span>,</span>
<span id="cb15-14"><a href="#cb15-14" tabindex="-1"></a>                  <span class="at">country =</span> <span class="st">&quot;USA&quot;</span>)</span>
<span id="cb15-15"><a href="#cb15-15" tabindex="-1"></a></span>
<span id="cb15-16"><a href="#cb15-16" tabindex="-1"></a>publisher <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb15-17"><a href="#cb15-17" tabindex="-1"></a>                 <span class="at">organizationName =</span> <span class="st">&quot;Harvard Forest&quot;</span>,</span>
<span id="cb15-18"><a href="#cb15-18" tabindex="-1"></a>                 <span class="at">address =</span> HF_address)</span>
<span id="cb15-19"><a href="#cb15-19" tabindex="-1"></a></span>
<span id="cb15-20"><a href="#cb15-20" tabindex="-1"></a></span>
<span id="cb15-21"><a href="#cb15-21" tabindex="-1"></a>contact <span class="ot">&lt;-</span> </span>
<span id="cb15-22"><a href="#cb15-22" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb15-23"><a href="#cb15-23" tabindex="-1"></a>    <span class="at">individualName =</span> aaron<span class="sc">$</span>individualName,</span>
<span id="cb15-24"><a href="#cb15-24" tabindex="-1"></a>    <span class="at">electronicMailAddress =</span> aaron<span class="sc">$</span>electronicMailAddress,</span>
<span id="cb15-25"><a href="#cb15-25" tabindex="-1"></a>    <span class="at">address =</span> HF_address,</span>
<span id="cb15-26"><a href="#cb15-26" tabindex="-1"></a>    <span class="at">organizationName =</span> <span class="st">&quot;Harvard Forest&quot;</span>,</span>
<span id="cb15-27"><a href="#cb15-27" tabindex="-1"></a>    <span class="at">phone =</span> <span class="st">&quot;000-000-0000&quot;</span>)</span></code></pre></div>
<p>criando keywords para os dados</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>keywordSet <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>    <span class="fu">list</span>(</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>        <span class="at">keywordThesaurus =</span> <span class="st">&quot;LTER controlled vocabulary&quot;</span>,</span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a>        <span class="at">keyword =</span> <span class="fu">list</span>(<span class="st">&quot;bacteria&quot;</span>,</span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a>                    <span class="st">&quot;carnivorous plants&quot;</span>,</span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a>                    <span class="st">&quot;genetics&quot;</span>,</span>
<span id="cb16-7"><a href="#cb16-7" tabindex="-1"></a>                    <span class="st">&quot;thresholds&quot;</span>)</span>
<span id="cb16-8"><a href="#cb16-8" tabindex="-1"></a>        ),</span>
<span id="cb16-9"><a href="#cb16-9" tabindex="-1"></a>    <span class="fu">list</span>(</span>
<span id="cb16-10"><a href="#cb16-10" tabindex="-1"></a>        <span class="at">keywordThesaurus =</span> <span class="st">&quot;LTER core area&quot;</span>,</span>
<span id="cb16-11"><a href="#cb16-11" tabindex="-1"></a>        <span class="at">keyword =</span>  <span class="fu">list</span>(<span class="st">&quot;populations&quot;</span>, <span class="st">&quot;inorganic nutrients&quot;</span>, <span class="st">&quot;disturbance&quot;</span>)</span>
<span id="cb16-12"><a href="#cb16-12" tabindex="-1"></a>        ),</span>
<span id="cb16-13"><a href="#cb16-13" tabindex="-1"></a>    <span class="fu">list</span>(</span>
<span id="cb16-14"><a href="#cb16-14" tabindex="-1"></a>        <span class="at">keywordThesaurus =</span> <span class="st">&quot;HFR default&quot;</span>,</span>
<span id="cb16-15"><a href="#cb16-15" tabindex="-1"></a>        <span class="at">keyword =</span> <span class="fu">list</span>(<span class="st">&quot;Harvard Forest&quot;</span>, <span class="st">&quot;HFR&quot;</span>, <span class="st">&quot;LTER&quot;</span>, <span class="st">&quot;USA&quot;</span>)</span>
<span id="cb16-16"><a href="#cb16-16" tabindex="-1"></a>        ))</span></code></pre></div>
<p>Outras informações relevantes como abstract etc</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>pubDate <span class="ot">&lt;-</span> <span class="st">&quot;2012&quot;</span> </span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>title <span class="ot">&lt;-</span> <span class="st">&quot;Thresholds and Tipping Points in a Sarracenia </span></span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a><span class="st">Microecosystem at Harvard Forest since 2012&quot;</span></span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a>abstract <span class="ot">&lt;-</span> <span class="st">&quot;The primary goal of this project is to determine</span></span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a><span class="st">  experimentally the amount of lead time required to prevent a state</span></span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a><span class="st">change. To achieve this goal, we will (1) experimentally induce state</span></span>
<span id="cb17-9"><a href="#cb17-9" tabindex="-1"></a><span class="st">changes in a natural aquatic ecosystem - the Sarracenia microecosystem;</span></span>
<span id="cb17-10"><a href="#cb17-10" tabindex="-1"></a><span class="st">(2) use proteomic analysis to identify potential indicators of states</span></span>
<span id="cb17-11"><a href="#cb17-11" tabindex="-1"></a><span class="st">and state changes; and (3) test whether we can forestall state changes</span></span>
<span id="cb17-12"><a href="#cb17-12" tabindex="-1"></a><span class="st">by experimentally intervening in the system. This work uses state-of-the</span></span>
<span id="cb17-13"><a href="#cb17-13" tabindex="-1"></a><span class="st">art molecular tools to identify early warning indicators in the field</span></span>
<span id="cb17-14"><a href="#cb17-14" tabindex="-1"></a><span class="st">of aerobic to anaerobic state changes driven by nutrient enrichment</span></span>
<span id="cb17-15"><a href="#cb17-15" tabindex="-1"></a><span class="st">in an aquatic ecosystem. The study tests two general hypotheses: (1)</span></span>
<span id="cb17-16"><a href="#cb17-16" tabindex="-1"></a><span class="st">proteomic biomarkers can function as reliable indicators of impending</span></span>
<span id="cb17-17"><a href="#cb17-17" tabindex="-1"></a><span class="st">state changes and may give early warning before increasing variances</span></span>
<span id="cb17-18"><a href="#cb17-18" tabindex="-1"></a><span class="st">and statistical flickering of monitored variables; and (2) well-timed</span></span>
<span id="cb17-19"><a href="#cb17-19" tabindex="-1"></a><span class="st">intervention based on proteomic biomarkers can avert future state changes</span></span>
<span id="cb17-20"><a href="#cb17-20" tabindex="-1"></a><span class="st">in ecological systems.&quot;</span>  </span>
<span id="cb17-21"><a href="#cb17-21" tabindex="-1"></a></span>
<span id="cb17-22"><a href="#cb17-22" tabindex="-1"></a>intellectualRights <span class="ot">&lt;-</span> <span class="st">&quot;This dataset is released to the public and may be freely</span></span>
<span id="cb17-23"><a href="#cb17-23" tabindex="-1"></a><span class="st">  downloaded. Please keep the designated Contact person informed of any</span></span>
<span id="cb17-24"><a href="#cb17-24" tabindex="-1"></a><span class="st">plans to use the dataset. Consultation or collaboration with the original</span></span>
<span id="cb17-25"><a href="#cb17-25" tabindex="-1"></a><span class="st">investigators is strongly encouraged. Publications and data products</span></span>
<span id="cb17-26"><a href="#cb17-26" tabindex="-1"></a><span class="st">that make use of the dataset must include proper acknowledgement. For</span></span>
<span id="cb17-27"><a href="#cb17-27" tabindex="-1"></a><span class="st">more information on LTER Network data access and use policies, please</span></span>
<span id="cb17-28"><a href="#cb17-28" tabindex="-1"></a><span class="st">see: http://www.lternet.edu/data/netpolicy.html.&quot;</span></span></code></pre></div>
</div>
<div id="criando-o-arquivo-xml" class="section level3">
<h3>Criando o arquivo XML</h3>
<p>Agora que todas as informações foram criadas (atributos, dados
físicos do arquivo, coverage, dados de contato), precisamos juntar todas
elas em uma única lista.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>dataset <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a>               <span class="at">title =</span> title,</span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>               <span class="at">creator =</span> aaron,</span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a>               <span class="at">pubDate =</span> pubDate,</span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a>               <span class="at">intellectualRights =</span> intellectualRights,</span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a>               <span class="at">abstract =</span> abstract,</span>
<span id="cb18-7"><a href="#cb18-7" tabindex="-1"></a>               <span class="at">associatedParty =</span> associatedParty,</span>
<span id="cb18-8"><a href="#cb18-8" tabindex="-1"></a>               <span class="at">keywordSet =</span> keywordSet,</span>
<span id="cb18-9"><a href="#cb18-9" tabindex="-1"></a>               <span class="at">coverage =</span> coverage,</span>
<span id="cb18-10"><a href="#cb18-10" tabindex="-1"></a>               <span class="at">contact =</span> contact,</span>
<span id="cb18-11"><a href="#cb18-11" tabindex="-1"></a>               <span class="at">methods =</span> methods,</span>
<span id="cb18-12"><a href="#cb18-12" tabindex="-1"></a>               <span class="at">dataTable =</span> dataTable)</span></code></pre></div>
<p>Antes de criar o arquivo XML é importante criar um uuid para o
arquivo, que nada mais é que um identificador que qualquer um pode
criar, como demonstrado a seguir. Para mais informações sobre o que é um
uuid ver <a
href="https://en.wikipedia.org/wiki/Universally_unique_identifier">esta
explicação no Wikipedia</a></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>eml <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>           <span class="at">packageId =</span> uuid<span class="sc">::</span><span class="fu">UUIDgenerate</span>(),</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a>           <span class="at">system =</span> <span class="st">&quot;uuid&quot;</span>, <span class="co"># type of identifier</span></span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a>           <span class="at">dataset =</span> dataset)</span></code></pre></div>
<p>Finalmente criando o arquivo XML e validando.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="fu">write_eml</span>(eml, here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;eml_tutorialHF205.xml&quot;</span>))</span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a><span class="fu">eml_validate</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;eml_tutorialHF205.xml&quot;</span>))</span></code></pre></div>
<!-- aqui a seção de metadata para dados de biodiversidade usando DwCore -->
<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('left', 'top', 'auto', '1', 'Copy code', 'Copied!');
</script>
</div>
</div>
</div>
<div id="metadados-para-dados-de-biodiversidade" class="section level1">
<h1>Metadados para dados de biodiversidade</h1>
<p>Se você ainda não passou pela seção de metadados usando o pacote EML,
volte um pouco, por favor. Lá apresento uma introdução geral sobre
metadados em XML e como montá-los usando o pacote EML no R. Aqui
abordarei especificamente como montar arquivos com metadados para dados
de biodiversidade (ocorrência, lista de espécies, pontos etc).</p>
<div id="leituras-sugeridas-1" class="section level2">
<h2>Leituras sugeridas</h2>
<p>Esta seção é baseada no documento produzido pelo <a
href="https://livingnorway.github.io/LivingNorwayR/articles/LNWorkshopExample_TOV-E.html">Living
Norway Project</a>, que também oferece uma introdução muito interessante
sobre Darwin Core e metadados para biodiversidade.</p>
</div>
<div id="exemplos-de-metadados-de-biodiversidade"
class="section level2">
<h2>Exemplos de metadados de biodiversidade</h2>
<p>O melhor exemplo de esturutura digital que utiliza metadados de
biodiversidade construídos desta maneira que mostrarei é o <a
href="https://www.gbif.org/">GBIF</a>.</p>
</div>
</div>
<div id="metadados-na-prática---utilizando-o-pacote-livingnorwayr"
class="section level1">
<h1>Metadados na prática - utilizando o pacote
<code>{LivingNorwayR}</code></h1>
<div id="instalação-e-dados" class="section level2">
<h2>Instalação e dados</h2>
<p>Primeiro vamos instalar o pacote</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;https://github.com/LivingNorway/LivingNorwayR&quot;</span>)</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="fu">library</span>(LivingNorwayR)</span></code></pre></div>
<p>Aqui os dados que serão utilizados no exemplo. Estes são os mesmos
dados utilizados no tuturial do Living Norway R. Para mais detalhes
visite a <a
href="https://livingnorway.github.io/LivingNorwayR/articles/LNWorkshopExample_TOV-E.html">página
deles</a>.</p>
<p>Vamos utilizar um conjunto de dados que fizemos o download e está
dentro da nossa pasta do curso para criar nosso arquivo Darwin Core.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="co"># Lendo o arquivo core</span></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a>TOVEEventTableDF <span class="ot">&lt;-</span> <span class="fu">read.table</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;TOVEData&quot;</span>, <span class="st">&quot;event.txt&quot;</span>), <span class="at">sep =</span> <span class="st">&quot;</span><span class="sc">\t</span><span class="st">&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a><span class="fu">head</span>(TOVEEventTableDF)</span></code></pre></div>
<p>Obtendo os arquivos extendidos, neste caso o arquivo de ocorrência de
espécies. Podemos ver que se trata de um simples data frame onde os
nomes das colunas seguem os códigos do Darwin Core</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a>TOVEOccTable <span class="ot">&lt;-</span> <span class="fu">read.table</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;TOVEData&quot;</span>, <span class="st">&quot;occurrence.txt&quot;</span>), <span class="at">sep =</span> <span class="st">&quot;</span><span class="sc">\t</span><span class="st">&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a><span class="fu">head</span>(TOVEEventTableDF)</span></code></pre></div>
</div>
<div id="construindo-um-xml-baseado-em-darwin-core"
class="section level2">
<h2>Construindo um XML baseado em Darwin Core</h2>
<p>Agora que temos nossos dados podemos construir um arquivo do tipo
Darwin Core</p>
<div id="construindo-o-metadado-para-a-tabela-de-eventos-core"
class="section level3">
<h3>Construindo o metadado para a tabela de eventos
<strong>core</strong></h3>
<p>Primeiro precisamos definir o que será a tabela <strong>core</strong>
e o que serão as suas <strong>extensões</strong>, que por sua vez podem
ser mapeadas a partir de atributos comuns presentes em ambas as tabelas
(neste caso o ID).</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="co"># 1. Inicializando automaticamente - só funciona caso os nomes já estejam de acordo com o Darwin Core</span></span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a>newTOVEEventTable <span class="ot">&lt;-</span> <span class="fu">initializeGBIFEvent</span>(TOVEEventTableDF, <span class="st">&quot;id&quot;</span>, <span class="at">nameAutoMap =</span> <span class="cn">TRUE</span>)</span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a><span class="co"># 2. Iniciando manualmente - podemos usar o nome dos atributos que correspondem a cada categoria do Darwin Core. </span></span>
<span id="cb24-5"><a href="#cb24-5" tabindex="-1"></a>    <span class="co"># podemos usar o nome ou o número da coluna</span></span>
<span id="cb24-6"><a href="#cb24-6" tabindex="-1"></a>newTOVEEventTable <span class="ot">&lt;-</span> <span class="fu">initializeGBIFEvent</span>(TOVEEventTableDF, <span class="st">&quot;id&quot;</span>,</span>
<span id="cb24-7"><a href="#cb24-7" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">&quot;type&quot;</span>,</span>
<span id="cb24-8"><a href="#cb24-8" tabindex="-1"></a>  <span class="at">modified =</span> <span class="st">&quot;modified&quot;</span>,</span>
<span id="cb24-9"><a href="#cb24-9" tabindex="-1"></a>  <span class="at">datasetName =</span> <span class="st">&quot;datasetName&quot;</span>,</span>
<span id="cb24-10"><a href="#cb24-10" tabindex="-1"></a>  <span class="at">ownerInstitutionCode =</span> <span class="st">&quot;ownerInstitutionCode&quot;</span>,</span>
<span id="cb24-11"><a href="#cb24-11" tabindex="-1"></a>  <span class="at">informationWithheld =</span> <span class="st">&quot;informationWithheld&quot;</span>,</span>
<span id="cb24-12"><a href="#cb24-12" tabindex="-1"></a>  <span class="at">dataGeneralizations =</span> <span class="st">&quot;dataGeneralizations&quot;</span>,</span>
<span id="cb24-13"><a href="#cb24-13" tabindex="-1"></a>  <span class="at">eventID =</span> <span class="st">&quot;eventID&quot;</span>,</span>
<span id="cb24-14"><a href="#cb24-14" tabindex="-1"></a>  <span class="at">samplingProtocol =</span> <span class="st">&quot;samplingProtocol&quot;</span>,</span>
<span id="cb24-15"><a href="#cb24-15" tabindex="-1"></a>  <span class="at">sampleSizeValue =</span> <span class="st">&quot;sampleSizeValue&quot;</span>,</span>
<span id="cb24-16"><a href="#cb24-16" tabindex="-1"></a>  <span class="at">sampleSizeUnit =</span> <span class="st">&quot;sampleSizeUnit&quot;</span>,</span>
<span id="cb24-17"><a href="#cb24-17" tabindex="-1"></a>  <span class="at">samplingEffort =</span> <span class="st">&quot;samplingEffort&quot;</span>,</span>
<span id="cb24-18"><a href="#cb24-18" tabindex="-1"></a>  <span class="at">eventDate =</span> <span class="st">&quot;eventDate&quot;</span>,</span>
<span id="cb24-19"><a href="#cb24-19" tabindex="-1"></a>  <span class="at">eventTime =</span> <span class="st">&quot;eventTime&quot;</span>,</span>
<span id="cb24-20"><a href="#cb24-20" tabindex="-1"></a>  <span class="at">year =</span> <span class="st">&quot;year&quot;</span>,</span>
<span id="cb24-21"><a href="#cb24-21" tabindex="-1"></a>  <span class="at">month =</span> <span class="st">&quot;month&quot;</span>,</span>
<span id="cb24-22"><a href="#cb24-22" tabindex="-1"></a>  <span class="at">day =</span> <span class="st">&quot;day&quot;</span>,</span>
<span id="cb24-23"><a href="#cb24-23" tabindex="-1"></a>  <span class="at">locationID =</span> <span class="st">&quot;locationID&quot;</span>,</span>
<span id="cb24-24"><a href="#cb24-24" tabindex="-1"></a>  <span class="at">country =</span> <span class="st">&quot;country&quot;</span>,</span>
<span id="cb24-25"><a href="#cb24-25" tabindex="-1"></a>  <span class="at">countryCode =</span> <span class="st">&quot;countryCode&quot;</span>,</span>
<span id="cb24-26"><a href="#cb24-26" tabindex="-1"></a>  <span class="at">stateProvince =</span> <span class="st">&quot;stateProvince&quot;</span>,</span>
<span id="cb24-27"><a href="#cb24-27" tabindex="-1"></a>  <span class="at">municipality =</span> <span class="st">&quot;municipality&quot;</span>,</span>
<span id="cb24-28"><a href="#cb24-28" tabindex="-1"></a>  <span class="at">locality =</span> <span class="st">&quot;locality&quot;</span>,</span>
<span id="cb24-29"><a href="#cb24-29" tabindex="-1"></a>  <span class="at">minimumElevationInMeters =</span> <span class="st">&quot;minimumElevationInMeters&quot;</span>,</span>
<span id="cb24-30"><a href="#cb24-30" tabindex="-1"></a>  <span class="at">maximumElevationInMeters =</span> <span class="st">&quot;maximumElevationInMeters&quot;</span>,</span>
<span id="cb24-31"><a href="#cb24-31" tabindex="-1"></a>  <span class="at">decimalLatitude =</span> <span class="st">&quot;decimalLatitude&quot;</span>,</span>
<span id="cb24-32"><a href="#cb24-32" tabindex="-1"></a>  <span class="at">decimalLongitude =</span> <span class="st">&quot;decimalLongitude&quot;</span>,</span>
<span id="cb24-33"><a href="#cb24-33" tabindex="-1"></a>  <span class="at">geodeticDatum =</span> <span class="st">&quot;geodeticDatum&quot;</span>,</span>
<span id="cb24-34"><a href="#cb24-34" tabindex="-1"></a>  <span class="at">coordinateUncertaintyInMeters =</span> <span class="st">&quot;coordinateUncertaintyInMeters&quot;</span>)</span>
<span id="cb24-35"><a href="#cb24-35" tabindex="-1"></a></span>
<span id="cb24-36"><a href="#cb24-36" tabindex="-1"></a><span class="co"># Podemos checar se o mapeamento dos termos se deu corretamente</span></span>
<span id="cb24-37"><a href="#cb24-37" tabindex="-1"></a>newTOVEEventTable<span class="sc">$</span><span class="fu">getTermMapping</span>()</span></code></pre></div>
</div>
<div id="construindo-os-metadados-para-as-extensões-da-tabela-core"
class="section level3">
<h3>Construindo os metadados para as extensões da tabela core</h3>
<p>Neste caso a tabela a extensão que temos da tabela chave é a tabela
de ocorrência de espécies. Vamos mapear ela da mesma forma que fizemos
para a tabela core</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="co"># Função para inicialização da tabela</span></span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a>newTOVEOccTable <span class="ot">&lt;-</span> <span class="fu">initializeGBIFOccurrence</span>(TOVEOccTableDF, <span class="st">&quot;id&quot;</span>, <span class="at">nameAutoMap =</span> <span class="cn">TRUE</span>)</span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a><span class="co"># Checando quais eventos foram mapeados na tabela, o que aparece com NA não foi mapeado, ou porque não existe ou porque tem o nome incorreto</span></span>
<span id="cb25-5"><a href="#cb25-5" tabindex="-1"></a>newTOVEOccTable<span class="sc">$</span><span class="fu">getTermMapping</span>()</span></code></pre></div>
</div>
<div id="construindo-o-eml" class="section level3">
<h3>Construindo o EML</h3>
<p>O último elemento que precisamos para construir nossos metadados para
os arquivos de biodiversidade que estamos utilizando é o arquivo EML,
que vocês já conhecem. O EML pode ser criado de várias formas. Vimos
anteriormente como criar um EML usando o pacote <code>{EML}</code>. O
pacote <code>{LivingNorwayR}</code> oferece uma maneira simples de criar
um arquivo XML usando um arquivo <code>.Rmd</code>, ou seja, usando o
Rmarkdown. Vamos entender os detalhes de um arquivo do tipo Rmd mais
adiante, por hora precisamos apenas saber que ele é um arquivo que
permite mesclar textos e códigos, além de possibilitar criar tags para
seções (Como os títulos num documento Word). Essas tags são utilizadas
pelas funções do LivingNorwayR para criar o arquivo XML. Vale notar que
isso é mais limitante que criar um XML usando o EML, mas para questões
didáticas vamos usar um arquivo .Rmd pronto, que está na pasta de dados
deste diretório.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a>createdTOVEMetadata <span class="ot">&lt;-</span> <span class="fu">initializeDwCMetadata</span>(<span class="at">fileLocation =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;TOVEData&quot;</span>, <span class="st">&quot;LNWorkshopExample_Metadata.rmd&quot;</span>), <span class="at">fileType =</span> <span class="st">&quot;rmarkdown&quot;</span>)</span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a><span class="co"># Exportando o EML</span></span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a>createdTOVEMetadata<span class="sc">$</span><span class="fu">exportToEML</span>(<span class="fu">file.path</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;TOVEData&quot;</span>), <span class="st">&quot;newMetadata.xml&quot;</span>))</span></code></pre></div>
<p>Este novo metadado precisa ser lido para o R e assim podemos juntá-lo
com os outros arquivos</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a>newTOVEMetadata <span class="ot">&lt;-</span> <span class="fu">initializeDwCMetadata</span>(<span class="fu">file.path</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;TOVEData&quot;</span>), <span class="st">&quot;newMetadata.xml&quot;</span>),</span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a>  <span class="at">fileType =</span> <span class="st">&quot;eml&quot;</span> <span class="co"># This line is not required if the file has the &quot;.xml&quot; file extension</span></span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a>)</span></code></pre></div>
</div>
</div>
<div id="juntando-todos-os-arquivos" class="section level2">
<h2>Juntando todos os arquivos</h2>
<p>Agora temos os arquivos necessários para juntar em um único arquivo
zipado que pode ser guardado localmente ou submetido em alguma
plataforma de dados, por exemplo, GBIF, como ilustrado abaixo</p>
<p><img src="figs/gibif-upload-zip.png" width="1275" /></p>
<p>Para juntar todos os arquivos criados precisamos usar a seguinte
função</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="co"># criando um único arquivo com todos os objetos criados anteriormente</span></span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a>newTOVEArchive <span class="ot">&lt;-</span> <span class="fu">initializeDwCArchive</span>(newTOVEEventTable, <span class="fu">list</span>(newTOVEOccTable), newTOVEMetadata)</span></code></pre></div>
<p>Para salvar o objeto .zip, que agora é nosso Darwin Core Archive,
podemos fazer o seguinte</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a>newTOVEArchive<span class="sc">$</span><span class="fu">exportAsDwCArchive</span>(<span class="fu">file.path</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;NEWTOVEData&quot;</span>), <span class="st">&quot;newDwCArchive.zip&quot;</span>))</span></code></pre></div>
</div>
<div id="explorando-o-darwin-core-archive" class="section level2">
<h2>Explorando o Darwin Core Archive</h2>
<p>Uma vez criado o arquivo no formato Darwin Core Archive podemos fazer
o caminho inverso e obter as tabelas a partir do arquivo que
criamos.</p>
<p>Para tanto podemos usar as funções do pacote LivingNorwayR para ler o
arquivo zip e extrair as tabelas, incluindo os metadados.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a>localDataLoc2 <span class="ot">&lt;-</span> <span class="fu">file.path</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;NEWTOVEData&quot;</span>), <span class="st">&quot;newDwCArchive.zip&quot;</span>) </span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a>NEWTOVEArchive <span class="ot">&lt;-</span> <span class="fu">initializeDwCArchive</span>(localDataLoc2, <span class="st">&quot;UTF-8&quot;</span>)</span></code></pre></div>
<p>Podemos agora explorar os dados dentro do arquivo Darwin Core criado
nos passos anteriores. Ou seja, podemos retomar os dados e importar para
dentro do R para fazer, por exemplo, novas análises</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="co"># obtendo o dado</span></span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a>NEWTOVEEventTable <span class="ot">&lt;-</span> NEWTOVEArchive<span class="sc">$</span><span class="fu">getCoreTable</span>()</span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a><span class="fu">class</span>(NEWTOVEEventTable)</span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" tabindex="-1"></a><span class="co"># Podemos exportar como um dataframe</span></span>
<span id="cb31-6"><a href="#cb31-6" tabindex="-1"></a>NEWTOVEEventTableDF <span class="ot">&lt;-</span> NEWTOVEEventTable<span class="sc">$</span><span class="fu">exportAsDataFrame</span>()</span>
<span id="cb31-7"><a href="#cb31-7" tabindex="-1"></a></span>
<span id="cb31-8"><a href="#cb31-8" tabindex="-1"></a><span class="co"># obtendo dados da tabela extendida</span></span>
<span id="cb31-9"><a href="#cb31-9" tabindex="-1"></a>NEWTOVEEventTableDF <span class="ot">&lt;-</span> NEWTOVEEventTable<span class="sc">$</span><span class="fu">exportAsDataFrame</span>()</span>
<span id="cb31-10"><a href="#cb31-10" tabindex="-1"></a><span class="co"># exportando como dataframe</span></span>
<span id="cb31-11"><a href="#cb31-11" tabindex="-1"></a><span class="fu">head</span>(NEWTOVEEventTableDF)</span></code></pre></div>
</div>
</div>
<div id="atividade" class="section level1">
<h1>Atividade</h1>
<p>Para fixar os conceitos apresentados sobre metadados, vamos treinar
um pouco mais utilizando um outro conjunto de dados.</p>
<p>Produza um arquivo <code>.xml</code> utilizando os dados
<code>iris</code> do pacote <code>{ggplot}</code>. Algumas informações
nós não temos, por exemplo, a cobertura de coleta, ano de coleta etc.
Mas para fins de prática vamos inventar essas informações no momento de
fazer o metadado.</p>
<p>Para acessar os dados:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;iris&quot;</span>)</span></code></pre></div>
</div>

<div id="rmd-source-code">LS0tCnRpdGxlOiAiT3JnYW5pemFuZG8gbyBzZXUgdHJhYmFsaG8gbG9jYWxtZW50ZSIKYXV0aG9yOiAiR2FicmllbCBOYWthbXVyYSIKZGF0ZTogImByIFN5cy5EYXRlKClgIgpvdXRwdXQ6IGh0bWxfZG9jdW1lbnQKLS0tCgpgYGB7ciBzZXR1cCwgaW5jbHVkZT1GQUxTRX0Ka25pdHI6Om9wdHNfY2h1bmskc2V0KGVjaG8gPSBUUlVFKQpgYGAKCiMgT3JnYW5pemHDp8OjbyAtIHF1ZXN0w6NvIGRlIGVzdGlsbz8KCiJFdSBtZSBhY2hvIG5hIG1pbmhhIGJhZ3Vuw6dhIiwgcXVlbSBqw6Egb3V2aXUgZXNzYSBmcmFzZSwgb3UgasOhIHByb251bmNpb3U/IFByb3ZhdmVsbWVudGUgdG9kb3MgbsOzcy4gTWFzIG8gY29uY2VpdG8gZGUgKipvcmdhbml6YcOnw6NvKiogc2VyaWEgbWVzbW8gdW1hIHF1ZXN0w6NvIHBlc3NvYWw/IFBvZGVtb3MgZGlzY3V0aXIgaXNzbyBkdXJhbnRlIGhvcmFzIGEgZmlvIHNlIGVzdGl2ZXJtb3MgZmFsYW5kbyBkbyBzZXUgcXVhcnRvLCBkYSBzdWEgZXN0YW50ZSBvdSBkbyBzZXUgZ3VhcmRhLXJvdXBhLCBtYXMgcXVhbmRvIGZhbGFtb3MgZGUgY2nDqm5jaWEsIG91IHNlamEsIHVtYSBhdGl2aWRhZGUgY29sZXRpdmEsIG9yZ2FuaXphw6fDo28gKipuw6NvKiogw6kgdW1hIHF1ZXN0w6NvIHBlc3NvYWwsIGp1c3RhbWVudGUgcG9yIHNlciBjb2xldGl2YS4gU2VtcHJlIHRyYWJhbGhhbW9zIGVtIGNvbmp1bnRvLCBlIGlzc28gcG9kZSBzZXIgY29tIHVtIGdydXBvIGNvbXBvc3RvIHBvciBtdWl0YXMgcGVzc29hcyBxdWUgdHJhYmFsaGFtIGVtIHVtIGRldGVybWluYWRvIHByb2pldG8sIG91IHBvZGUgc2VyIGNvbnNpZ28gbWVzbW8sIG8gc2V1IGV1IGRvIGZ1dHVyby4gRGVzdGEgbWFuZWlyYSwgw6kgbmVjZXNzw6FyaW8gcXVlIHR1ZG8gcXVlIGZvaSB1dGlsaXphZG8gcGFyYSBvIGRlc2Vudm9sdmltZW50byBkbyBzZXUgcHJvamV0byBjaWVudMOtZmljbyBzZWphIGRlIGbDoWNpbCBjb21wcmVlbnPDo28gcGFyYSBzZXVzIGNvbGFib3JhZG9yZXMgb3UgcGFyYSBvIHNldSAiZXUiIGRvIGZ1dHVyby4KCiMgRGFkb3MgbmVjZXNzw6FyaW9zIHBhcmEgYXMgcHLDoXRpY2FzIAoKTmVzdGEgc2XDp8OjbyB2YW1vcyB1dGlsaXphciBvcyBkYWRvcyBkbyBwYWNvdGUgYHtwYWxtZXJwZW5ndWluc31gLiBRdWUgYXBlc2FyIGRlIGVzdGFyIGRpc3BvbsOtdmVsIGNvbW8gcGFjb3RlLCBwb3J0YW50byBwb2RlcmlhIHNlciBsaWRvIGF1dG9tw6F0aWNhbWVudGUgYXBlbmFzIGJhaXhhbmRvIG8gcGFjb3RlLCB2YW1vcyBpbXBvcnRhciBvcyBkYWRvcyBhIHBhcnRpciBkbyBub3NzbyBjb21wdXRhZG9yLiBWYW1vcyBmYXplciBpc3NvIHBvaXMgYXNzaW0gcG9kZW1vcyBkZW1vbnN0cmFyIGJvYXMgcHLDoXRpY2FzIG5hIGxlaXR1cmEgZGUgZGFkb3MsIHNjcmlwdHMgZSBvcmdhbml6YcOnw6NvIGRvIG5vc3NvIHJlcG9zaXTDs3JpbyBsb2NhbCBkZSBtYW5laXJhIGdlcmFsLiBPcyBkYWRvcyBkbyBwYWNvdGUgasOhIGVzdMOjbyBubyByZXBvc2l0w7NyaW8gcXVlIGJhaXhhcmFtLiBNYWlzIGFkaWFudGUgdmFtb3MgdXRpbGl6w6EtbG8sIG1hcyBhbnRlcyB2YW1vcyB2ZXIgZXNxdWVtYXMgZ2VyYWlzIGRlIG9yZ2FuaXphw6fDo28gZGUgcmVwb3NpdMOzcmlvIGxvY2FsCgojIFVtIGVzcXVlbWEgZ2VyYWwgKG1hcyBuw6NvIGFic29sdXRvKSBwYXJhIG9yZ2FuaXphw6fDo28gZG8gZGlyZXTDs3JpbyBsb2NhbAoKTmVzc2Egc2XDp8OjbyBpcmVpIG1vc3RyYXIgdW1hIHByb3Bvc3RhIGRlIGVzcXVlbWEgZ2VyYWwgcGFyYSBvcmdhbml6YcOnw6NvIGRlIGRpcmV0w7NyaW9zLiBFc3NhIGVzdHJ1dHVyYSDDqSBiYXNlYWRhIG5lc3RhIHByb3Bvc3RhIGRvIFtHdXN0YXZvIFBhdGVybm9dKGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL3ByZXNlbnRhdGlvbi9kLzFQeDlOcGFfQU5xbW1makNYbzlBLWVCbVd6Z1VtbWtDS2Q3ZkJJcV9nRzZrL2VkaXQjc2xpZGU9aWQuZzYyZmM2YmY3MmZfMF8xOTYpLgoKRGlnbyBxdWUgbsOjbyDDqSBhYnNvbHV0byBwb2lzIG1vZGlmaWNhw6fDtWVzIG5lc3NlIGVzcXVlbWEgcG9kZW0gc2VyIGZlaXRhIHBhcmEgYWp1c3RhciBhbyBjb25qdW50byBkZSBkYWRvcyBkZSBjYWRhIHBlc3NvYS4gQSBFY29sb2dpYSDDqSB1bSBjYW1wbyBtdWl0byBhbXBsbyBkZSBwZXNxdWlzYSwgZSBuZW0gdG9kb3Mgb3MgZGFkb3Mgc2UgYWp1c3RhcsOjbyBwZXJmZWl0YW1lbnRlIGEgZXN0YSBwcm9wb3N0YS4gTyBtYWlzIGltcG9ydGFudGUgZGUgdHVkbyDDqSBxdWUgb3MgZGFkb3MgZXN0ZWphbSBvcmdhbml6YWRvcyBkZSB1bWEgbWFuZWlyYSAqKmludHVpdGl2YSoqIGUgKipjb25zaXN0ZW50ZSoqIG5vIGRpcmV0w7NyaW8sIGNvbW8gbyBuYSBmaWd1cmEgc2VndWludGUuCgpgYGB7ciBlY2hvPUZBTFNFLGV2YWw9VFJVRSxmaWcuY2FwPSAiVW0gZGlyZXTDs3JpbyBtaW5pbWFtZW50ZSBvcmdhbml6YWRvIn0Ka25pdHI6OmluY2x1ZGVfZ3JhcGhpY3MoImZpZ3MvZGlyZWN0b3J5X29yZy5qcGciKQpgYGAKCk1hcywgcXVhbCBhIGzDs2dpY2EgcG9yIHRyw6FzIGRhIG9yZ2FuaXphw6fDo28gZGVzc2UgZGlyZXTDs3Jpbz8gU2VndWltb3MgYSBwcm9wb3N0YSBwcmVzZW50ZSBuYSBmaWd1cmEgc2VndWludGUgWyhvcmlnaW5hbCBwb2RlIHNlciB2aXN0byBhcXVpKV0oaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vcHJlc2VudGF0aW9uL2QvMVB4OU5wYV9BTnFtbWZqQ1hvOUEtZUJtV3pnVW1ta0NLZDdmQklxX2dHNmsvZWRpdCNzbGlkZT1pZC5nNjJmYzZiZjcyZl8wXzcpLiAKCk5lc3RhIHByb3Bvc3RhIG9zIGFycXVpdm9zIGRlbnRybyBkZSB1bSBwcm9qZXRvIHPDo28gb3JnYW5pemFkb3MgZW0gNCBwYXN0YXMgcXVlIGNvbnRlbXBsYW0gcXVhc2UgdG9kb3Mgb3MgZG9jdW1lbnRvcyBxdWUgZ2VyYW1vcyBvdSBxdWUgcHJlY2lzYW1vcyBxdWFuZG8gZXN0YW1vcyBkZXNlbnZvbHZlbmRvIHVtIHByb2pldG8gY2llbnTDrWZpY28uCgpgYGB7ciBlY2hvPUZBTFNFLGV2YWw9VFJVRSxmaWcuY2FwPSJVbSBtb2RlbG8gZ2VyYWwgZGUgb3JnYW5pemHDp8OjbyBkbyBkaXJldMOzcmlvIGxvY2FsIn0Ka25pdHI6OmluY2x1ZGVfZ3JhcGhpY3MoImZpZ3MvdGVtcGxhdGVfZ2VuZXJhbC5qcGciKQpgYGAKCgojIyBOb21lYW5kbyBhcnF1aXZvcwoKVW1hIGJvYSByZWdyYSBhIHNlciBzZWd1aWRhOiAKCioqSHVtYW4gKyBNYWNoaW5lIHJlZGFibGUqKgoKRXhlbXBsbzoKCmBgYHtyIGVjaG89RkFMU0UsZXZhbD1GQUxTRX0Ka25pdHI6OmluY2x1ZGVfZ3JhcGhpY3MoaGVyZTo6aGVyZSgiZmlncyIsICJuYW1pbmctZmlsZXMtZGF0YS5wbmciKSkKYGBgCgojIyBOb21lYW5kbyBzY3JpcHRzCgpQZXNzb2FsbWVudGUgZXUgdXRpbGl6byBvIHNlZ3VpbnRlIGVzcXVlbWEKCioqbsO6bWVyb19sZXRyYS1tYWnDunNjdWxhX2Rlc2NyacOnw6NvLlIqKgoKLSBuw7ptZXJvOiB1c2FkbyBwYXJhIGluZGljYXIgYSBzZXF1w6puY2lhIGRlIGV4ZWN1w6fDo28gZG9zIHNjcmlwdHMKCi0gbGV0cmEgbWFpw7pzY3VsYTogQ8OzZGlnbyBxdWUgaW5kaWNhIG8gcXVlIG8gc2NyaXB0IGZhei4gVXNvIGEgc2VndWludGUgbm90YcOnw6NvCiAgICArIGBDYCAoQ2xlYW4pIGxlaXR1cmEgZSBsaW1wZXphL3Byb2Nlc3NhbWVudG8gZGUgZGFkb3MKICAgICsgYERgIChEbykgYW7DoWxpc2VzCiAgICArIGBTYCAoU2hvdykgZ3LDoWZpY29zL2ZpZ3VyYXMKCi0gZGVzY3Jpw6fDo286IHVtYSBicmV2ZSBkZXNjcmnDp8OjbyBzb2JyZSBvIHF1ZSBvIHNjcmlwdCBmYXogZXNwZWNpZmljYW1lbnRlIChlLmcuIGdsbSkKCiMjIE8gUkVBRE1FCgpPIFJFQURNRSDDqSB1bWEgZGFzIHBhcnRlcyBtYWlzIGltcG9ydGFudGVzIGRvIHNldSBkaXJldMOzcmlvLCBlbGUgw6kgZXNjcml0byBlbSBjYWl4YSBhbHRhIGp1c3RhbWVudGUgcGFyYSBxdWUgYSBwZXNzb2EgcXVlIGVzdGVqYSBhY2Vzc3NhbmRvIG8gc2V1IGRpcmV0w7NyaW8gb3XDp2EgZW0gdm96IGFsdGEgKipNZSBsZWlhIHBvciBmYXZvciEhKiouCgpOZXN0ZSBhcnF1aXZvIGRlIHRleHRvIHZvY8OqIGlyw6EgZW5jb250cmFyIGFzIHByaW5jaXBhaXMgaW5zdHJ1w6fDtWVzIHNvYnJlIGEgZXN0cnV0dXJhIGRvIGRpcmV0w7NyaW8sIGluY2x1aW5kbyBvcyBub21lcyBkYXMgcGVzc29hcyBxdWUgbW9udGFyYW0gbyBkaXJldMOzcmlvLCBhbMOpbSBkZSBpbnN0cnXDp8O1ZXMgYsOhc2ljYXMgc29icmUgbyBxdWUgY29udMOpbSBlbSBjYWRhIHBhc3RhLiBbQXF1aSB2b2PDqiBwb2RlIGVuY29udHJhciB1bSBleGVtcGxvIGRlIFJFQURNRSBjb250ZW5kbyBhcyBpbmZvcm1hw6fDtWVzIGLDoXNpY2FzIG5lY2Vzc8OhcmlhcyBxdWUgZWxlIGRldmUgY29udGVyIGUgcG9ycXVlXShodHRwczovL3d3dy5tYWtlYXJlYWRtZS5jb20vKS4gW0FxdWkgdW0gdGVtcGxhdGUgcXVlIHBvZGUgc2VyIGFkYXB0YWRvIHBhcmEgb3Mgc2V1cyBwcm9ww7NzaXRvc10oaHR0cHM6Ly9naXRodWIuY29tL2plaG5hL3JlYWRtZS1iZXN0LXByYWN0aWNlcy9ibG9iL21hc3Rlci9SRUFETUUtZGVmYXVsdC5tZCkuIFtBcXVpIGFsZ3VtYXMgZGljYXMgaW50ZXJlc3NhbnRlcyBlbSBwb3J0dWd1w6pzXShodHRwczovL2Jsb2cucm9ja2V0c2VhdC5jb20uYnIvY29tby1mYXplci11bS1ib20tcmVhZG1lLykuCgrDiSBpbXBvcnRhbnRlIHNhYmVyIHF1ZSB2b2PDqiBuw6NvIGlyw6EgZW5jb250cmFyIG8gbW9kZWxvIGZpbmFsIHBhcmEgbyBSRUFETUUgcGVyZmVpdG8uIE9zIGRldGFsaGVzIGRlIGNhZGEgUkVBRE1FIHbDo28gdmFyaWFyIGRlcGVuZGVuZG8gZG8gcHJvamV0byBxdWUgZXN0w6EgZGVzZW52b2x2ZW5kbyBlIGEgZm9ybWEgY29tbyBlbGUgZGV2ZSBzZXIgYXByZXNlbnRhZG8gYW8gdXN1w6FyaW8uIFBvciBleGVtcGxvLCBzZSBvIHByb2pldG8gc2UgdHJhdGEgZGUgdW0gcmVwb3NpdMOzcmlvIGRlIGFycXVpdm9zIGUgc2NyaXB0cyBkZSB1bSBtYW51c2NyaXRvLCBlIG7Do28gZGUgdW0gUkVBRE1FIGRlIHVtIHByb2pldG8gZGUgc29mdHdhcmUsIG7Do28gcHJlY2lzYSBoYXZlciBhbGd1bnMgY2FtcG9zIGRlIGV4cGxpY2HDp8OjbywgdGFpcyBjb21vIGV4ZW1wbG8gZGUgdXNvIG91IGFudGlnYXMgdmVyc8O1ZXMgZGUgbGFuw6dhbWVudG8uIEFxdWkgY29sb2NvIHVtIFsqY2hlY2tsaXN0KiBhZGFwdGFkb10oaHR0cHM6Ly9naXRodWIuY29tL2hhY2tlcmdycmwvYXJ0LW9mLXJlYWRtZS9lZGl0L21hc3Rlci9SRUFETUUtcHQtQlIubWQpIGRlIGl0ZW5zIHF1ZSBqdWxnbyBlc3NlbmNpYWlzIHBhcmEgdW0gUkVBRE1FIGluZm9ybWF0aXZvLiBQZW5zZSBubyBzZXUgdHJhYmFsaG8sIGFkaWNpb25lIG91IGVkaXRlIGVzc2UgY2hlY2tsaXN0IGRlIGFjb3JkbyBjb20gc2V1cyBwcm9ww7NzaXRvcy4KCk1pbmhhIHByb3Bvc3RhIGRlIGNoZWNrbGlzdDoKCi0gWyBdIFVtYSBsaW5oYSBleHBsaWNhbmRvIG8gcHJvcMOzc2l0byBkbyByZXBvc2l0w7NyaW8gCi0gWyBdIEF1dG9yZXMgZG8gcmVwb3NpdMOzcmlvCi0gWyBdIExpZ2HDp8O1ZXMgZSBjb250ZXh0dWFsaXphw6fDtWVzIG5lY2Vzc8OhcmlhcyAocG9yIGV4ZW1wbG8sIHNlIG8gcmVwb3NpdMOzcmlvIGVzdMOhIGxpbmthZG8gYSB1bSBhcnRpZ28pCi0gWyBdIGJhZGdlcyAob3BjaW9uYWwpCi0gWyBdIEluc3RydcOnw7VlcyBkZSBpbnN0YWxhw6fDo28gKG91IGRvd25sb2FkIHNlIGZvciB1bSByZXBvKQotIFsgXSBFeGVtcGxvIGRlIHV0aWxpemHDp8OjbyBjbGFybyBlICpleGVjdXTDoXZlbCogKHNlIGVzdGl2ZXJtb3MgZmFsYW5kbyBkZSB1bWEgYmFzZSBkZSBkYWRvcyBvdSBwYWNvdGUpCi0gWyBdIEVzdHJ1dHVyYSBkZSBwYXN0YXMgZSBzY3JpcHRzIChvIHF1ZSBjYWRhIHBhc3RhIGNvbnTDqW0sIG8gcXVlIGNhZGEgc2NyaXB0IGZheikKLSBbIF0gU3RhdHVzIGRvIHByb2pldG8gKGZpbmFsaXphZG8vZW0gYW5kYW1lbnRvKQotIFsgXSBFbSBjYXNvIGRlIHByb2JsZW1hIGNvbSBhbGdvIG5vIHJlcG9zaXTDs3JpbywgY29tbyByZXBvcnRhciAoVXNhciBvIEdpdEh1YiBpc3N1ZXMgw6kgdW1hIGJvYSBpZGVpYSkKLSBbIF0gTGljZW7Dp2EKCiMjIEluaWNpYW5kbyBvIFJFQURNRQoKRHVhcyBvcMOnw7VlcyBwYXJhIG1vbnRhciBvIGFycXVpdm8gUkVBRE1FLiBQcmltZWlyYSwgbW9udGFyIHZvY8OqIG1lc21vLiBPIGFycXVpdm8gcG9kZSBzZXIgbW9udGFkbyBlbSB1bSBibG9jbyBkZSBub3RhcyBlIGRldmUgc2VyIG5vbWVhZG8gY29tbyBgUkVBRE1FLm1kYC4gQSBleHRlbnPDo28gYC5tZGAgw6kgaW1wb3J0YW50ZSBhcXVpLCBlbGEgc2lnbmlmaWNhIHF1ZSDDqSB1bSBhcnF1aXZvIGRvIHRpcG8gKipNYXJrZG93bioqLiBOZXN0ZSBtb21lbnRvIMOpIGltcG9ydGFudGUgc2FiZXIgcXVlIG8gYXJxdWl2byBNYXJrZG93biDDqSBhcGVuYXMgdW1hIGxpbmd1YWdlbSBkZSBtYXJjYcOnw6NvLiBWYW1vcyBhYm9yZGFyIGVtIGRldGFsaGVzIGNvbW8gZWxhYm9yYXIgZG9jdW1lbnRvcyBlbSBNYXJrZG93biwgY29tbyBlc3RlIHF1ZSBsw6ogbmVzdGUgbW9tZW50bywgbWFpcyBhZGlhbnRlLiBQb3IgaG9yYSDDqSByZWxldmFudGUgc2FiZXIgcXVlIG8gUkVBRE1FIGRldmUgc2VyIGVtIG1hcmtkb3duIHBvaXMgYXNzaW0gbyBHaXRIdWIgaWRlbmZpY2EgY29ycmV0YW1lbnRlIGVzdGUgZG9jdW1lbnRvIGNvbW8gc2VuZG8gbyBhcnF1aXZvIGEgc2VyIGV4aWJpZG8gbmEgcMOhZ2luYSBpbmljaWFsIGRvIHJlcG9zaXTDs3JpbyByZW1vdG8sIGNvbW8gaWx1c3RyYWRvIG5hIGZpZ3VyYSBhYmFpeG8uCgpgYGB7ciBlY2hvPUZBTFNFLGV2YWw9VFJVRSxmaWcuY2FwPSJBcnF1aXZvIFJFQURNRSBjb3JyZXNwb25kZW50ZSBhbyByZXBvc2l0w7NyaW8gZGVzdGUgc2l0ZSJ9CmtuaXRyOjppbmNsdWRlX2dyYXBoaWNzKCJmaWdzL3JlYWRtZS1leGVtcGxvLnBuZyIpCmBgYAoKTmEgcmVhbGlkYWRlLCBvIGFycXVpdm8gZm9udGUgdGVtIGVzc2EgYXBhcsOqbmNpYQoKYGBge3IgZWNobz1GQUxTRSxldmFsPVQsZmlnLmNhcD0iQXJxdWl2byBmb250ZSBwYXJhIG8gUkVBRE1FIGFjaW1hIG1vc3RyYWRvIn0Ka25pdHI6OmluY2x1ZGVfZ3JhcGhpY3MoImZpZ3MvcmVhZG1lLXNvdXJjZS1leC5wbmciKQpgYGAKCk1vc3RybyBjb21vIHBvZGVtb3MgbW9udGFyIHVtIFJFQURNRSBbbmVzdGEgc2XDp8Ojb10oKS4gUG9yIGVucXVhbnRvIHZhbW9zIGZhemVyIG8gbWFpcyBzaW1wbGVzLgoKMS0gQWJyYSB1bSBlZGl0b3IgZGUgdGV4dG8gKHJlY29tZW5kbyBvIFtBdG9tXShodHRwczovL2dpdGh1Yi5ibG9nLzIwMjItMDYtMDgtc3Vuc2V0dGluZy1hdG9tLyksIG1hcyBvIGVkaXRvciBuYXRpdm8gZG8gc2V1IGNvbXB1dGFkb3IgZnVuY2lvbmEgYmVtIHRhbWLDqW0pLiAKCjItIERpZ2l0ZSBxdWFscXVlciB0w610dWxvIG5hIHByaW1laXJhIGxpbmhhIHF1ZSBzZSBpbmljaWUgY29tIGAjIE1ldSBUw610dWxvYC4gCgozLSBTYWx2ZSBvIGFycXVpdm8gY29tIG8gbm9tZSBkZSBgUkVBRE1FLm1kYCBlbSBhbGd1bSBsb2NhbCBkbyBzZXUgY29tcHV0YWRvci4gUG9yIGVucXVhbnRvIMOpIGlzc28uCgoKIyBGZXJyYW1lbnRhcyBwYXJhIG9yZ2FuaXphw6fDo28gZG8gZGlyZXTDs3JpbyBsb2NhbAoKIyMgSW5pY2lhbmRvIHVtIHByb2pldG8gY29tIG8gUlN0dWRpbwoKQ29tbyB2aW1vcyBuYSBhdWxhIFt0ZcOzcmljYV0oKSwgbyBSU3R1ZGlvIHBvc3NpYmlsaXRhIGVucmFpemFyIG8gcHJvamV0bywgZGVzdGEgZm9ybWEgbsOjbyBwcmVjaXNhbW9zIHV0aWxpemFyIGNhbWluaG9zIGFic29sdXRvcywgdG9ybmFuZG8gbm9zc2EgdmlkYSBtYWlzIGbDoWNpbCBlIG8gdHJhYmFsaG8gbWFpcyByZXByb2R1dMOtdmVsIHBhcmEgcXVlbSB0ZW50YXIgdXRpbGl6YXIgbm9zc28gcmVwb3NpdMOzcmlvLiBQb3J0YW50bywgbyBwcmltZWlybyBwYXNzbyB2YWkgc2VyIGluaWNpYXIgdW0gbm92byBwcm9qZXRvIGNvbSBvIFJTdHVkaW8uIFBhcmEgaXNzbyBmYcOnYSBvIHNlZ3VpbnRlOgoKMS0gQWJyYSBvIFJTdHVkaW8KCjItIEVtIGBBcnF1aXZvYCwgc2VsZWNpb25lIGBOb3ZvIFByb2pldG9gLCBjb21vIG1vc3RyYWRvIGFiYWl4bwoKYGBge3IgZWNobz1GQUxTRSxldmFsPVRSVUUsZmlnLmNhcD0iSW5pY2lhbmRvIHVtIHByb2pldG8iLG91dC53aWR0aD0iODAlIn0Ka25pdHI6OmluY2x1ZGVfZ3JhcGhpY3MoImZpZ3MvbmV3LXByb2plY3QtZmlnMS5wbmciKQpgYGAKCjMtIE5hIGphbmVsYSBxdWUgc2UgYWJyaXUgc2VsZWNpb25lIGBOb3ZvIERpcmV0w7NyaW9gIHBhcmEgaW5pY2lhciBvIHByb2pldG8gZW0gdW0gZGlyZXTDs3JpbyBub3ZvCgpgYGB7ciBlY2hvPUZBTFNFLGV2YWw9VFJVRSxmaWcuY2FwPSJJbmljaWFuZG8gdW0gcHJvamV0byBlbSB1bSBub3ZvIGRpcmV0w7NyaW8iLG91dC53aWR0aD0iODAlIn0Ka25pdHI6OmluY2x1ZGVfZ3JhcGhpY3MoImZpZ3MvbmV3LXByb2plY3QtZmlnMi5wbmciKQpgYGAKCjQtIEVzY29saGEgbyB0aXBvIGRlIHByb2pldG8sIG5lc3RlIGNhc28gYG5vdm8gcHJvamV0b2AgKHNlIGFwZW5hcyB1bSBwcm9qZXRvLCBvdSB1bSBwYWNvdGUgb3UgdW0gYXBsaWNhdGl2byBzaGlueSkKCmBgYHtyIGVjaG89RkFMU0UsZXZhbD1UUlVFLG91dC53aWR0aD0iODAlIn0Ka25pdHI6OmluY2x1ZGVfZ3JhcGhpY3MoImZpZ3MvbmV3LXByb2plY3QtZmlnMy5wbmciKQpgYGAKCjUtIFBvciBmaW0gZXNjb2xoYSBvIG5vbWUgcGFyYSBvIGRpcmV0w7NyaW8gZSBvbmRlIGVsZSB2YWkgZXN0YXIgbm8gc2V1IGNvbXB1dGFkb3IKCmBgYHtyIGVjaG89RkFMU0UsZXZhbD1UUlVFLG91dC53aWR0aD0iODAlIn0Ka25pdHI6OmluY2x1ZGVfZ3JhcGhpY3MoImZpZ3MvbmV3LXByb2plY3QtZmlnNC5wbmciKQpgYGAKClByb250bywgdW1hIG5vdmEgamFuZWxhIGRvIFJTdHVkaW8gc2UgYWJyaXLDoSwgaW5kaWNhbmRvIHF1ZSBzZXUgcHJvamV0byBmb2kgaW5pY2lhZG8gY29tIHN1Y2Vzc28uIEEgcGFydGlyIGRlIGFnb3JhLCBwYXJhIGFicmlyIG8gUiBlIHJlYWxpemFyIG1vZGlmaWNhw6fDtWVzIGRlIHNjcmlwdHMgYmFzdGEgY2xpY2FyIG5vIGFycXVpdm8gIGAuUlByb2plY3RgIHF1ZSBsZXZhIG8gbm9tZSBxdWUgZGV1IGFvIGRpcmV0w7NyaW8uIAoKIyMgUGFjb3RlcyBwYXJhIGluaWNpYWxpemHDp8OjbyBhdXRvbcOhdGljYSAoYWx0ZXJuYXRpdmEpCgpBbGd1bnMgcGFjb3RlcyBhdXhpbGlhbSBtb250YXIgYXV0b21hdGljYW1lbnRlIGEgb3JnYW5pemHDp8OjbyBkbyBzZXUgZGlyZXTDs3JpbyBsb2NhbCwgcG9yIGV4ZW1wbG8gZXNzYSBbZmVycmFtZW50YSBlbGFib3JhZG8gcGVsbyBDYXJsIEJvZXR0aWdlcl0oaHR0cHM6Ly9naXRodWIuY29tL2Nib2V0dGlnL3RlbXBsYXRlKSBlIFtlc3NhIGRvIEZyYW5jaXNjbyBSb2RyaWd1ZXotU2FuY2hlel0oaHR0cHM6Ly9naXRodWIuY29tL1Bha2lsbG8vdGVtcGxhdGUpLiAKClZhbW9zIGV4cGxvcmFyIHVtIHBvdWNvIGEgZnVuY2lvbmFsaWRhZGUgZG8gcGFjb3RlIGB7dGVtcGxhdGV9YC4gUGFyYSB0YW50byBwcmVjaXNhbW9zIHByaW1laXJvIGluc3RhbGFyIG8gcGFjb3RlIHF1ZSBlc3TDoSBob3NwZWRhZG8gbm8gR2l0SHViLgoKYGBge3IgZWNobz1ULGV2YWw9RkFMU0V9CiMgaW5zdGFsbC5wYWNrYWdlcygicmVtb3RlcyIpCnJlbW90ZXM6Omluc3RhbGxfZ2l0aHViKCJQYWtpbGxvL3RlbXBsYXRlIikKYGBgCgpFbSBzZWd1aWRhIHZhbW9zIGxlciBvIHBhY290ZSBlIGluaWNpYXIgdW0gbm92byBwcm9qZXRvCgpgYGB7ciBlY2hvPVRSVUUsZXZhbD1GQUxTRX0KbGlicmFyeSgidGVtcGxhdGUiKQpuZXdfcHJvamVjdChuYW1lID0gInRyZWVncm93dGgiLCBwYXRoID0gImNhbWluaG8vcGFyYS9kaXJldMOzcmlvIikKYGBgCgpPIGRpcmV0w7NyaW8gc2Vyw6EgaW5pY2lhZG8gbm8gbG9jYWwgaW5kaWNhZG8gcGVsbyBhcmd1bWVudG8gYHBhdGhgIG5hIGZ1bsOnw6NvIGBuZXdfcHJvamVjdGAuCgoKIyMgSGVyZQoKTyBge2hlcmV9YCDDqSBvIG1lbGhvciBwYWNvdGUgcGFyYSBwYWRyb25pemFyIGNhbWluaG9zLiBTYWJlIGFxdWVsZSBlcnJvIGRlIGxlaXR1cmEgZG9zIGRhZG9zIHBvciBjb250YSBkZSB1bSBgL2Agb3UgYFxgLCBvdSBwb3IgdGVyIGVzcXVlY2lkbyBvdSBlcnJhZG8gbmEgZGlnaXRhw6fDo28gZGFxdWVsZSBjYW1pbmhvIGdpZ2FudGVzY28gcGFyYSBvIGFycXVpdm8gZGVzZWphZG8/IENvbSBvIGB7aGVyZX1gIG5hZGEgZGlzc28gdmFpIGFjb250ZWNlci4KClBhcmEgZGVtb25zdHJhciBvIHVzbyBkbyBwYWNvdGUgaGVyZSB2YW1vcyBsZXIgb3MgZGFkb3MgYHBhbG1lci1wZW5ndWlucy50eHRgIHBhcmEgbyBSLiBMZW1icmFuZG8sIGFicmEgbyBSIGEgcGFydGlyIGRvIC5ScHJvamVjdCBkZW50cm8gZG8gZGlyZXTDs3JpbyBxdWUgaW5pY2lhbW9zIG5vcyBwYXNzb3MgYW50ZXJpb3JlcwoKYGBge3IgZWNobz1UUlVFLGV2YWw9RkFMU0V9CiMgY2FzbyBuw6NvIHRlbmhhIG8gaGVyZSBpbnN0YWxhZG8gYWluZGEKIyBpbnN0YWxsLnBhY2thZ2VzKCJoZXJlIikKCmxpYnJhcnkoaGVyZSkKCmBgYAoKRGEgZm9ybWEgY29udmVuY2lvbmFsIHBvZGVyw61hbW9zIGxlciBlc3NlIGRhZG8gZGEgc2VndWludGUgZm9ybWEKCmBgYHtyIGVjaG89VFJVRSxldmFsPUZBTFNFfQpkYXRhX3Blbmd1aW5zIDwtIHJlYWQuY3N2KCIvVXNlcnMvZ2FicmllbG5ha2FtdXJhL09uZURyaXZlL0Rpc2NpcGxpbmFfUHJhdGljYXNfZmVycmFtZW50YXNfZ2VzdGFvX2RhZG9zL1VTUF9yZXByb2R1Y2liaWxpdHlfQklFNTc5MS9kYXRhL2RhdGEtcGVuZ3VpbnMuY3N2IikKYGBgCgpTZXLDoSBxdWUgdm9jw6ogY29uc2VndWUgcmVwcm9kdXppciBlc3NhIHNpbXBsZXMgbGVpdHVyYSBkZSBkYWRvcyB1c2FuZG8gbyBtZXNtbyBjw7NkaWdvIGFjaW1hPyBUZW50ZS4uCgpBcMOzcyBhIHRlbnRhdGl2YSBmaWNhIGNsYXJvIHF1ZSBuw6NvIMOpIHBvc3PDrXZlbCByZWFsaXphciBlc3NhIGxlaXR1cmEgZGUgZGFkb3MuIE1hcyB2YW1vcyBsZW1icmFyIHF1ZSB0ZW1vcyBvIHByb2pldG8gcXVlIGVucmFpemEgbm9zc2EgcGFzdGEsIGVudMOjbyBwb2RlbW9zIGFwZW5hcyB1c2FyIG8gc2VndWludGUgY8OzZGlnbwoKYGBge3IgZWNobz1UUlVFLGV2YWw9RkFMU0V9CmRhdGFfcGVuZ3VpbnMgPC0gcmVhZC5jc3YoImRhdGEvZGF0YS1wZW5ndWlucy5jc3YiKQpgYGAKCkZ1bmNpb25vdT8gT3UgYXBlbmFzIHBhcmEgYWxndW5zPwoKSW1hZ2lubyBxdWUgcG9kZSB0ZXIgZnVuY2lvbmFkbyBwYXJhIHRvZG9zIHF1ZSB0ZW0gbyBjb21wdXRhZG9yIG9uZGUgYSBtw6FxdWluYSByZWNvbmhlY2UgYC9gIGNvbW8gc2VwYXJhZG9yIGRlIGNhbWluaG9zLCBwb3LDqW0sIGFxdWVsZXMgcXVlIHByZWNpc2EgZGUgYFxgIHBhcmEgaW5mb3JtYXIgYSBzZXBhcmHDp8OjbyBkb3MgY2FtaW5ob3MgbsOjbyBkZXZlIHRlciB0aWRvIHN1Y2Vzc28uIENvbW8gcmVzb2x2ZW1vcyBpc3NvPwoKQcOtIGVudHJhIG8gaGVyZS4gQ29tIG8gcGFjb3RlIGhlcmUgcG9kZW1vcyB1c2FyIHNpbXBsZXNtZW50ZSBvIHNlZ3VpbnRlIGPDs2RpZ28KCmBgYHtyIGVjaG89VFJVRSxldmFsPUZBTFNFfQpsaWJyYXJ5KGhlcmUpCmRhdGFfcGVuZ3VpbnMgPC0gcmVhZC5jc3YoaGVyZSgiZGF0YSIsICJkYXRhLXBlbmdpbnMuY3N2IikpCmBgYAoKTm90ZSBxdWUgYW8gaW52w6lzIGRlIHVzYXJtb3MgbyBjYW1pbmhvLCB1c2Ftb3MgZGVudHJvIGRhIGZ1bsOnw6NvIGBoZXJlYCBvIG5vbWUgZGFzIHBhc3RhcyBxdWUgbGV2YW0gYXTDqSBvIGFycXVpdm8gcXVlIGRlc2VqYW1vcyBhYnJpciwgYmVtIGNvbW8gbyBub21lIGRlc3RlIGFycXVpdm8uIEdhcmFudG8gcXVlIGFnb3JhIGlzc28gaXLDoSBmdW5jaW9uYXIgY29tIHRvZG9zCgo8IS0tIGFxdWkgYSBzZcOnw6NvIGRlIG1ldGFkYXRhIHVzYW5kbyBvIEVNTCAtLT4KCmBgYHtyIGNoaWxkPSJtZXRhZGF0YV9FTUwuUm1kIixldmFsPVRSVUV9CmBgYAoKPCEtLSBhcXVpIGEgc2XDp8OjbyBkZSBtZXRhZGF0YSBwYXJhIGRhZG9zIGRlIGJpb2RpdmVyc2lkYWRlIHVzYW5kbyBEd0NvcmUgLS0+CgpgYGB7ciBjaGlsZD0iRGFyd2luLWNvcmUtTE5QLlJtZCIsZXZhbD1UUlVFfQpgYGAKCgojIEF0aXZpZGFkZQoKUGFyYSBmaXhhciBvcyBjb25jZWl0b3MgYXByZXNlbnRhZG9zIHNvYnJlIG1ldGFkYWRvcywgdmFtb3MgdHJlaW5hciB1bSBwb3VjbyBtYWlzIHV0aWxpemFuZG8gdW0gb3V0cm8gY29uanVudG8gZGUgZGFkb3MuIAoKUHJvZHV6YSB1bSBhcnF1aXZvIGAueG1sYCB1dGlsaXphbmRvIG9zIGRhZG9zIGBpcmlzYCBkbyBwYWNvdGUgYHtnZ3Bsb3R9YC4gQWxndW1hcyBpbmZvcm1hw6fDtWVzIG7Ds3MgbsOjbyB0ZW1vcywgcG9yIGV4ZW1wbG8sIGEgY29iZXJ0dXJhIGRlIGNvbGV0YSwgYW5vIGRlIGNvbGV0YSBldGMuIE1hcyBwYXJhIGZpbnMgZGUgcHLDoXRpY2EgdmFtb3MgaW52ZW50YXIgZXNzYXMgaW5mb3JtYcOnw7VlcyBubyBtb21lbnRvIGRlIGZhemVyIG8gbWV0YWRhZG8uCgpQYXJhIGFjZXNzYXIgb3MgZGFkb3M6CgpgYGB7ciBlY2hvPVRSVUUsZXZhbD1GQUxTRX0KbGlicmFyeShnZ3Bsb3QyKQpkYXRhKCJpcmlzIikKYGBgCgo=</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("Organizacao_dir_local.Rmd");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
